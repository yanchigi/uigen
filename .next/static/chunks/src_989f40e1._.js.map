{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/ui/resizable.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { GripVerticalIcon } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction ResizablePanelGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) {\n  return (\n    <ResizablePrimitive.PanelGroup\n      data-slot=\"resizable-panel-group\"\n      className={cn(\n        \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ResizablePanel({\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.Panel>) {\n  return <ResizablePrimitive.Panel data-slot=\"resizable-panel\" {...props} />\n}\n\nfunction ResizableHandle({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) {\n  return (\n    <ResizablePrimitive.PanelResizeHandle\n      data-slot=\"resizable-handle\"\n      className={cn(\n        \"bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n        className\n      )}\n      {...props}\n    >\n      {withHandle && (\n        <div className=\"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border\">\n          <GripVerticalIcon className=\"size-2.5\" />\n        </div>\n      )}\n    </ResizablePrimitive.PanelResizeHandle>\n  )\n}\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n"],"names":[],"mappings":";;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,oBAAoB,EAC3B,SAAS,EACT,GAAG,OACwD;IAC3D,qBACE,6LAAC,iNAAA,CAAA,aAA6B;QAC5B,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qEACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,6LAAC,iNAAA,CAAA,QAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;MAJS;AAMT,SAAS,gBAAgB,EACvB,UAAU,EACV,SAAS,EACT,GAAG,OAGJ;IACC,qBACE,6LAAC,iNAAA,CAAA,oBAAoC;QACnC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,6oBACA;QAED,GAAG,KAAK;kBAER,4BACC,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC,6NAAA,CAAA,mBAAgB;gBAAC,WAAU;;;;;;;;;;;;;;;;AAKtC;MAvBS","debugId":null}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/lib/file-system.ts"],"sourcesContent":["export interface FileNode {\n  type: \"file\" | \"directory\";\n  name: string;\n  path: string;\n  content?: string;\n  children?: Map<string, FileNode>;\n}\n\nexport class VirtualFileSystem {\n  private files: Map<string, FileNode> = new Map();\n  private root: FileNode;\n\n  constructor() {\n    this.root = {\n      type: \"directory\",\n      name: \"/\",\n      path: \"/\",\n      children: new Map(),\n    };\n    this.files.set(\"/\", this.root);\n  }\n\n  private normalizePath(path: string): string {\n    // Ensure path starts with /\n    if (!path.startsWith(\"/\")) {\n      path = \"/\" + path;\n    }\n    // Remove trailing slash except for root\n    if (path !== \"/\" && path.endsWith(\"/\")) {\n      path = path.slice(0, -1);\n    }\n    // Normalize multiple slashes\n    path = path.replace(/\\/+/g, \"/\");\n    return path;\n  }\n\n  private getParentPath(path: string): string {\n    const normalized = this.normalizePath(path);\n    if (normalized === \"/\") return \"/\";\n    const parts = normalized.split(\"/\");\n    parts.pop();\n    return parts.length === 1 ? \"/\" : parts.join(\"/\");\n  }\n\n  private getFileName(path: string): string {\n    const normalized = this.normalizePath(path);\n    if (normalized === \"/\") return \"/\";\n    const parts = normalized.split(\"/\");\n    return parts[parts.length - 1];\n  }\n\n  private getParentNode(path: string): FileNode | null {\n    const parentPath = this.getParentPath(path);\n    return this.files.get(parentPath) || null;\n  }\n\n  createFile(path: string, content: string = \"\"): FileNode | null {\n    const normalized = this.normalizePath(path);\n\n    // Check if file already exists\n    if (this.files.has(normalized)) {\n      return null;\n    }\n\n    // Create parent directories if they don't exist\n    const parts = normalized.split(\"/\").filter(Boolean);\n    let currentPath = \"\";\n\n    for (let i = 0; i < parts.length - 1; i++) {\n      currentPath += \"/\" + parts[i];\n      if (!this.exists(currentPath)) {\n        this.createDirectory(currentPath);\n      }\n    }\n\n    const parent = this.getParentNode(normalized);\n    if (!parent || parent.type !== \"directory\") {\n      return null;\n    }\n\n    const fileName = this.getFileName(normalized);\n    const file: FileNode = {\n      type: \"file\",\n      name: fileName,\n      path: normalized,\n      content,\n    };\n\n    this.files.set(normalized, file);\n    parent.children!.set(fileName, file);\n\n    return file;\n  }\n\n  createDirectory(path: string): FileNode | null {\n    const normalized = this.normalizePath(path);\n\n    // Check if directory already exists\n    if (this.files.has(normalized)) {\n      return null;\n    }\n\n    const parent = this.getParentNode(normalized);\n    if (!parent || parent.type !== \"directory\") {\n      return null;\n    }\n\n    const dirName = this.getFileName(normalized);\n    const directory: FileNode = {\n      type: \"directory\",\n      name: dirName,\n      path: normalized,\n      children: new Map(),\n    };\n\n    this.files.set(normalized, directory);\n    parent.children!.set(dirName, directory);\n\n    return directory;\n  }\n\n  readFile(path: string): string | null {\n    const normalized = this.normalizePath(path);\n    const file = this.files.get(normalized);\n\n    if (!file || file.type !== \"file\") {\n      return null;\n    }\n\n    return file.content || \"\";\n  }\n\n  updateFile(path: string, content: string): boolean {\n    const normalized = this.normalizePath(path);\n    const file = this.files.get(normalized);\n\n    if (!file || file.type !== \"file\") {\n      return false;\n    }\n\n    file.content = content;\n    return true;\n  }\n\n  deleteFile(path: string): boolean {\n    const normalized = this.normalizePath(path);\n    const file = this.files.get(normalized);\n\n    if (!file || normalized === \"/\") {\n      return false;\n    }\n\n    const parent = this.getParentNode(normalized);\n    if (!parent || parent.type !== \"directory\") {\n      return false;\n    }\n\n    // If it's a directory, remove all children recursively\n    if (file.type === \"directory\" && file.children) {\n      for (const [_, child] of file.children) {\n        this.deleteFile(child.path);\n      }\n    }\n\n    parent.children!.delete(file.name);\n    this.files.delete(normalized);\n\n    return true;\n  }\n\n  rename(oldPath: string, newPath: string): boolean {\n    const normalizedOld = this.normalizePath(oldPath);\n    const normalizedNew = this.normalizePath(newPath);\n\n    // Can't rename root\n    if (normalizedOld === \"/\" || normalizedNew === \"/\") {\n      return false;\n    }\n\n    // Check if source exists\n    const sourceNode = this.files.get(normalizedOld);\n    if (!sourceNode) {\n      return false;\n    }\n\n    // Check if destination already exists\n    if (this.files.has(normalizedNew)) {\n      return false;\n    }\n\n    // Get parent of source\n    const oldParent = this.getParentNode(normalizedOld);\n    if (!oldParent || oldParent.type !== \"directory\") {\n      return false;\n    }\n\n    // Create parent directories for destination if needed\n    const newParentPath = this.getParentPath(normalizedNew);\n    if (!this.exists(newParentPath)) {\n      const parts = newParentPath.split(\"/\").filter(Boolean);\n      let currentPath = \"\";\n\n      for (const part of parts) {\n        currentPath += \"/\" + part;\n        if (!this.exists(currentPath)) {\n          this.createDirectory(currentPath);\n        }\n      }\n    }\n\n    // Get parent of destination\n    const newParent = this.getParentNode(normalizedNew);\n    if (!newParent || newParent.type !== \"directory\") {\n      return false;\n    }\n\n    // Remove from old parent\n    oldParent.children!.delete(sourceNode.name);\n\n    // Update the node's path and name\n    const newName = this.getFileName(normalizedNew);\n    sourceNode.name = newName;\n    sourceNode.path = normalizedNew;\n\n    // Add to new parent\n    newParent.children!.set(newName, sourceNode);\n\n    // Update in files map\n    this.files.delete(normalizedOld);\n    this.files.set(normalizedNew, sourceNode);\n\n    // If it's a directory, update all children paths recursively\n    if (sourceNode.type === \"directory\" && sourceNode.children) {\n      this.updateChildrenPaths(sourceNode);\n    }\n\n    return true;\n  }\n\n  private updateChildrenPaths(node: FileNode): void {\n    if (node.type === \"directory\" && node.children) {\n      for (const [_, child] of node.children) {\n        const oldChildPath = child.path;\n        child.path = node.path + \"/\" + child.name;\n\n        // Update in files map\n        this.files.delete(oldChildPath);\n        this.files.set(child.path, child);\n\n        // Recursively update children if it's a directory\n        if (child.type === \"directory\") {\n          this.updateChildrenPaths(child);\n        }\n      }\n    }\n  }\n\n  exists(path: string): boolean {\n    const normalized = this.normalizePath(path);\n    return this.files.has(normalized);\n  }\n\n  getNode(path: string): FileNode | null {\n    const normalized = this.normalizePath(path);\n    return this.files.get(normalized) || null;\n  }\n\n  listDirectory(path: string): FileNode[] | null {\n    const normalized = this.normalizePath(path);\n    const dir = this.files.get(normalized);\n\n    if (!dir || dir.type !== \"directory\") {\n      return null;\n    }\n\n    return Array.from(dir.children?.values() || []);\n  }\n\n  getAllFiles(): Map<string, string> {\n    const fileMap = new Map<string, string>();\n\n    for (const [path, node] of this.files) {\n      if (node.type === \"file\") {\n        fileMap.set(path, node.content || \"\");\n      }\n    }\n\n    return fileMap;\n  }\n\n  serialize(): Record<string, FileNode> {\n    const result: Record<string, FileNode> = {};\n\n    for (const [path, node] of this.files) {\n      // Create a shallow copy without the Map children to avoid serialization issues\n      if (node.type === \"directory\") {\n        result[path] = {\n          type: node.type,\n          name: node.name,\n          path: node.path,\n        };\n      } else {\n        result[path] = {\n          type: node.type,\n          name: node.name,\n          path: node.path,\n          content: node.content,\n        };\n      }\n    }\n\n    return result;\n  }\n\n  deserialize(data: Record<string, string>): void {\n    // Clear existing files except root\n    this.files.clear();\n    this.root.children?.clear();\n    this.files.set(\"/\", this.root);\n\n    // Sort paths to ensure parent directories are created first\n    const paths = Object.keys(data).sort();\n\n    for (const path of paths) {\n      const parts = path.split(\"/\").filter(Boolean);\n      let currentPath = \"\";\n\n      // Create parent directories if they don't exist\n      for (let i = 0; i < parts.length - 1; i++) {\n        currentPath += \"/\" + parts[i];\n        if (!this.exists(currentPath)) {\n          this.createDirectory(currentPath);\n        }\n      }\n\n      // Create the file\n      this.createFile(path, data[path]);\n    }\n  }\n\n  deserializeFromNodes(data: Record<string, FileNode>): void {\n    // Clear existing files except root\n    this.files.clear();\n    this.root.children?.clear();\n    this.files.set(\"/\", this.root);\n\n    // Sort paths to ensure parent directories are created first\n    const paths = Object.keys(data).sort();\n\n    for (const path of paths) {\n      if (path === \"/\") continue; // Skip root\n\n      const node = data[path];\n      const parts = path.split(\"/\").filter(Boolean);\n      let currentPath = \"\";\n\n      // Create parent directories if they don't exist\n      for (let i = 0; i < parts.length - 1; i++) {\n        currentPath += \"/\" + parts[i];\n        if (!this.exists(currentPath)) {\n          this.createDirectory(currentPath);\n        }\n      }\n\n      // Create the file or directory\n      if (node.type === \"file\") {\n        this.createFile(path, node.content || \"\");\n      } else if (node.type === \"directory\") {\n        this.createDirectory(path);\n      }\n    }\n  }\n\n  // Text editor command implementations\n  viewFile(path: string, viewRange?: [number, number]): string {\n    const file = this.getNode(path);\n    if (!file) {\n      return `File not found: ${path}`;\n    }\n\n    // If it's a directory, list its contents\n    if (file.type === \"directory\") {\n      const children = this.listDirectory(path);\n      if (!children || children.length === 0) {\n        return \"(empty directory)\";\n      }\n\n      return children\n        .sort((a, b) => a.name.localeCompare(b.name))\n        .map((child) => {\n          const prefix = child.type === \"directory\" ? \"[DIR]\" : \"[FILE]\";\n          return `${prefix} ${child.name}`;\n        })\n        .join(\"\\n\");\n    }\n\n    // For files, show content\n    const content = file.content || \"\";\n\n    // Handle view_range if provided\n    if (viewRange && viewRange.length === 2) {\n      const lines = content.split(\"\\n\");\n      const [start, end] = viewRange;\n      const startLine = Math.max(1, start);\n      const endLine = end === -1 ? lines.length : Math.min(lines.length, end);\n\n      const viewedLines = lines.slice(startLine - 1, endLine);\n      return viewedLines\n        .map((line, index) => `${startLine + index}\\t${line}`)\n        .join(\"\\n\");\n    }\n\n    // Return full file with line numbers\n    const lines = content.split(\"\\n\");\n    return (\n      lines.map((line, index) => `${index + 1}\\t${line}`).join(\"\\n\") ||\n      \"(empty file)\"\n    );\n  }\n\n  createFileWithParents(path: string, content: string = \"\"): string {\n    // Check if file already exists\n    if (this.exists(path)) {\n      return `Error: File already exists: ${path}`;\n    }\n\n    // Create parent directories if they don't exist\n    const parts = path.split(\"/\").filter(Boolean);\n    let currentPath = \"\";\n\n    for (let i = 0; i < parts.length - 1; i++) {\n      currentPath += \"/\" + parts[i];\n      if (!this.exists(currentPath)) {\n        this.createDirectory(currentPath);\n      }\n    }\n\n    // Create the file\n    this.createFile(path, content);\n    return `File created: ${path}`;\n  }\n\n  replaceInFile(path: string, oldStr: string, newStr: string): string {\n    const file = this.getNode(path);\n    if (!file) {\n      return `Error: File not found: ${path}`;\n    }\n\n    if (file.type !== \"file\") {\n      return `Error: Cannot edit a directory: ${path}`;\n    }\n\n    const content = this.readFile(path) || \"\";\n\n    // Check if old_str exists in the file\n    if (!oldStr || !content.includes(oldStr)) {\n      return `Error: String not found in file: \"${oldStr}\"`;\n    }\n\n    // Count occurrences\n    const occurrences = (\n      content.match(\n        new RegExp(oldStr.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\"), \"g\")\n      ) || []\n    ).length;\n\n    // Replace all occurrences\n    const updatedContent = content.split(oldStr).join(newStr || \"\");\n    this.updateFile(path, updatedContent);\n\n    return `Replaced ${occurrences} occurrence(s) of the string in ${path}`;\n  }\n\n  insertInFile(path: string, insertLine: number, text: string): string {\n    const file = this.getNode(path);\n    if (!file) {\n      return `Error: File not found: ${path}`;\n    }\n\n    if (file.type !== \"file\") {\n      return `Error: Cannot edit a directory: ${path}`;\n    }\n\n    const content = this.readFile(path) || \"\";\n    const lines = content.split(\"\\n\");\n\n    // Validate insert_line\n    if (\n      insertLine === undefined ||\n      insertLine < 0 ||\n      insertLine > lines.length\n    ) {\n      return `Error: Invalid line number: ${insertLine}. File has ${lines.length} lines.`;\n    }\n\n    // Insert the text\n    lines.splice(insertLine, 0, text || \"\");\n    const updatedContent = lines.join(\"\\n\");\n    this.updateFile(path, updatedContent);\n\n    return `Text inserted at line ${insertLine} in ${path}`;\n  }\n\n  reset(): void {\n    // Clear all files and reset to initial state\n    this.files.clear();\n    this.root = {\n      type: \"directory\",\n      name: \"/\",\n      path: \"/\",\n      children: new Map(),\n    };\n    this.files.set(\"/\", this.root);\n  }\n}\n\nexport const fileSystem = new VirtualFileSystem();\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 513, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/lib/contexts/file-system-context.tsx"],"sourcesContent":["\"use client\";\n\nimport React, {\n  createContext,\n  useContext,\n  useState,\n  useCallback,\n  useEffect,\n} from \"react\";\nimport { VirtualFileSystem, FileNode } from \"@/lib/file-system\";\n\ninterface ToolCall {\n  toolName: string;\n  args: any;\n}\n\ninterface FileSystemContextType {\n  fileSystem: VirtualFileSystem;\n  selectedFile: string | null;\n  setSelectedFile: (path: string | null) => void;\n  createFile: (path: string, content?: string) => void;\n  updateFile: (path: string, content: string) => void;\n  deleteFile: (path: string) => void;\n  renameFile: (oldPath: string, newPath: string) => boolean;\n  getFileContent: (path: string) => string | null;\n  getAllFiles: () => Map<string, string>;\n  refreshTrigger: number;\n  handleToolCall: (toolCall: ToolCall) => void;\n  reset: () => void;\n}\n\nconst FileSystemContext = createContext<FileSystemContextType | undefined>(\n  undefined\n);\n\nexport function FileSystemProvider({\n  children,\n  fileSystem: providedFileSystem,\n  initialData,\n}: {\n  children: React.ReactNode;\n  fileSystem?: VirtualFileSystem;\n  initialData?: Record<string, any>;\n}) {\n  const [fileSystem] = useState(() => {\n    const fs = providedFileSystem || new VirtualFileSystem();\n    if (initialData) {\n      fs.deserializeFromNodes(initialData);\n    }\n    return fs;\n  });\n  const [selectedFile, setSelectedFile] = useState<string | null>(null);\n  const [refreshTrigger, setRefreshTrigger] = useState(0);\n\n  const triggerRefresh = useCallback(() => {\n    setRefreshTrigger((prev) => prev + 1);\n  }, []);\n\n  useEffect(() => {\n    if (!selectedFile) {\n      const files = fileSystem.getAllFiles();\n\n      // Check if App.jsx exists\n      if (files.has(\"/App.jsx\")) {\n        setSelectedFile(\"/App.jsx\");\n      } else {\n        // Find first file in root directory\n        const rootFiles = Array.from(files.keys())\n          .filter((path) => {\n            const parts = path.split(\"/\").filter(Boolean);\n            return parts.length === 1; // Root level file\n          })\n          .sort();\n\n        if (rootFiles.length > 0) {\n          setSelectedFile(rootFiles[0]);\n        }\n      }\n    }\n  }, [selectedFile, fileSystem, refreshTrigger]);\n\n  const createFile = useCallback(\n    (path: string, content: string = \"\") => {\n      fileSystem.createFile(path, content);\n      triggerRefresh();\n    },\n    [fileSystem, triggerRefresh]\n  );\n\n  const updateFile = useCallback(\n    (path: string, content: string) => {\n      fileSystem.updateFile(path, content);\n      triggerRefresh();\n    },\n    [fileSystem, triggerRefresh]\n  );\n\n  const deleteFile = useCallback(\n    (path: string) => {\n      fileSystem.deleteFile(path);\n      if (selectedFile === path) {\n        setSelectedFile(null);\n      }\n      triggerRefresh();\n    },\n    [fileSystem, selectedFile, triggerRefresh]\n  );\n\n  const renameFile = useCallback(\n    (oldPath: string, newPath: string): boolean => {\n      const success = fileSystem.rename(oldPath, newPath);\n      if (success) {\n        // Update selected file if it was renamed\n        if (selectedFile === oldPath) {\n          setSelectedFile(newPath);\n        } else if (selectedFile && selectedFile.startsWith(oldPath + \"/\")) {\n          // Update selected file if it's inside a renamed directory\n          const relativePath = selectedFile.substring(oldPath.length);\n          setSelectedFile(newPath + relativePath);\n        }\n        triggerRefresh();\n      }\n      return success;\n    },\n    [fileSystem, selectedFile, triggerRefresh]\n  );\n\n  const getFileContent = useCallback(\n    (path: string) => {\n      return fileSystem.readFile(path);\n    },\n    [fileSystem]\n  );\n\n  const getAllFiles = useCallback(() => {\n    return fileSystem.getAllFiles();\n  }, [fileSystem]);\n\n  const reset = useCallback(() => {\n    fileSystem.reset();\n    setSelectedFile(null);\n    triggerRefresh();\n  }, [fileSystem, triggerRefresh]);\n\n  const handleToolCall = useCallback(\n    (toolCall: ToolCall) => {\n      const { toolName, args } = toolCall;\n\n      // Handle str_replace_editor tool\n      if (toolName === \"str_replace_editor\" && args) {\n        const { command, path, file_text, old_str, new_str, insert_line } = args;\n\n        switch (command) {\n          case \"create\":\n            if (path && file_text !== undefined) {\n              const result = fileSystem.createFileWithParents(path, file_text);\n              if (!result.startsWith(\"Error:\")) {\n                createFile(path, file_text);\n              }\n            }\n            break;\n\n          case \"str_replace\":\n            if (path && old_str !== undefined && new_str !== undefined) {\n              const result = fileSystem.replaceInFile(path, old_str, new_str);\n              if (!result.startsWith(\"Error:\")) {\n                const content = fileSystem.readFile(path);\n                if (content !== null) {\n                  updateFile(path, content);\n                }\n              }\n            }\n            break;\n\n          case \"insert\":\n            if (path && new_str !== undefined && insert_line !== undefined) {\n              const result = fileSystem.insertInFile(path, insert_line, new_str);\n              if (!result.startsWith(\"Error:\")) {\n                const content = fileSystem.readFile(path);\n                if (content !== null) {\n                  updateFile(path, content);\n                }\n              }\n            }\n            break;\n        }\n      }\n\n      // Handle file_manager tool\n      if (toolName === \"file_manager\" && args) {\n        const { command, path, new_path } = args;\n\n        switch (command) {\n          case \"rename\":\n            if (path && new_path) {\n              renameFile(path, new_path);\n            }\n            break;\n\n          case \"delete\":\n            if (path) {\n              const success = fileSystem.deleteFile(path);\n              if (success) {\n                deleteFile(path);\n              }\n            }\n            break;\n        }\n      }\n    },\n    [fileSystem, createFile, updateFile, deleteFile, renameFile]\n  );\n\n  return (\n    <FileSystemContext.Provider\n      value={{\n        fileSystem,\n        selectedFile,\n        setSelectedFile,\n        createFile,\n        updateFile,\n        deleteFile,\n        renameFile,\n        getFileContent,\n        getAllFiles,\n        refreshTrigger,\n        handleToolCall,\n        reset,\n      }}\n    >\n      {children}\n    </FileSystemContext.Provider>\n  );\n}\n\nexport function useFileSystem() {\n  const context = useContext(FileSystemContext);\n  if (!context) {\n    throw new Error(\"useFileSystem must be used within a FileSystemProvider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 758, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/lib/anon-work-tracker.ts"],"sourcesContent":["// Simple utility to track if anonymous user has created work\nconst STORAGE_KEY = \"uigen_has_anon_work\";\nconst DATA_KEY = \"uigen_anon_data\";\n\nexport function setHasAnonWork(messages: any[], fileSystemData: any) {\n  if (typeof window === \"undefined\") return;\n  \n  // Only set if there's actual content\n  if (messages.length > 0 || Object.keys(fileSystemData).length > 1) { // > 1 because root \"/\" always exists\n    sessionStorage.setItem(STORAGE_KEY, \"true\");\n    sessionStorage.setItem(DATA_KEY, JSON.stringify({ messages, fileSystemData }));\n  }\n}\n\nexport function getHasAnonWork(): boolean {\n  if (typeof window === \"undefined\") return false;\n  return sessionStorage.getItem(STORAGE_KEY) === \"true\";\n}\n\nexport function getAnonWorkData(): { messages: any[], fileSystemData: any } | null {\n  if (typeof window === \"undefined\") return null;\n  \n  const data = sessionStorage.getItem(DATA_KEY);\n  if (!data) return null;\n  \n  try {\n    return JSON.parse(data);\n  } catch {\n    return null;\n  }\n}\n\nexport function clearAnonWork() {\n  if (typeof window === \"undefined\") return;\n  sessionStorage.removeItem(STORAGE_KEY);\n  sessionStorage.removeItem(DATA_KEY);\n}"],"names":[],"mappings":"AAAA,6DAA6D;;;;;;;AAC7D,MAAM,cAAc;AACpB,MAAM,WAAW;AAEV,SAAS,eAAe,QAAe,EAAE,cAAmB;IACjE,uCAAmC;;IAAM;IAEzC,qCAAqC;IACrC,IAAI,SAAS,MAAM,GAAG,KAAK,OAAO,IAAI,CAAC,gBAAgB,MAAM,GAAG,GAAG;QACjE,eAAe,OAAO,CAAC,aAAa;QACpC,eAAe,OAAO,CAAC,UAAU,KAAK,SAAS,CAAC;YAAE;YAAU;QAAe;IAC7E;AACF;AAEO,SAAS;IACd,uCAAmC;;IAAY;IAC/C,OAAO,eAAe,OAAO,CAAC,iBAAiB;AACjD;AAEO,SAAS;IACd,uCAAmC;;IAAW;IAE9C,MAAM,OAAO,eAAe,OAAO,CAAC;IACpC,IAAI,CAAC,MAAM,OAAO;IAElB,IAAI;QACF,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,SAAS;IACd,uCAAmC;;IAAM;IACzC,eAAe,UAAU,CAAC;IAC1B,eAAe,UAAU,CAAC;AAC5B","debugId":null}},
    {"offset": {"line": 814, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/lib/contexts/chat-context.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  createContext,\n  useContext,\n  ReactNode,\n  useEffect,\n} from \"react\";\nimport { useChat as useAIChat } from \"@ai-sdk/react\";\nimport { Message } from \"ai\";\nimport { useFileSystem } from \"./file-system-context\";\nimport { setHasAnonWork } from \"@/lib/anon-work-tracker\";\n\ninterface ChatContextProps {\n  projectId?: string;\n  initialMessages?: Message[];\n}\n\ninterface ChatContextType {\n  messages: Message[];\n  input: string;\n  handleInputChange: (e: React.ChangeEvent<HTMLTextAreaElement>) => void;\n  handleSubmit: (e: React.FormEvent<HTMLFormElement>) => void;\n  status: string;\n}\n\nconst ChatContext = createContext<ChatContextType | undefined>(undefined);\n\nexport function ChatProvider({\n  children,\n  projectId,\n  initialMessages = [],\n}: ChatContextProps & { children: ReactNode }) {\n  const { fileSystem, handleToolCall } = useFileSystem();\n\n  const {\n    messages,\n    input,\n    handleInputChange,\n    handleSubmit,\n    status,\n  } = useAIChat({\n    api: \"/api/chat\",\n    initialMessages,\n    body: {\n      files: fileSystem.serialize(),\n      projectId,\n    },\n    onToolCall: ({ toolCall }) => {\n      handleToolCall(toolCall);\n    },\n  });\n\n  // Track anonymous work\n  useEffect(() => {\n    if (!projectId && messages.length > 0) {\n      setHasAnonWork(messages, fileSystem.serialize());\n    }\n  }, [messages, fileSystem, projectId]);\n\n  return (\n    <ChatContext.Provider\n      value={{\n        messages,\n        input,\n        handleInputChange,\n        handleSubmit,\n        status,\n      }}\n    >\n      {children}\n    </ChatContext.Provider>\n  );\n}\n\nexport function useChat() {\n  const context = useContext(ChatContext);\n  if (context === undefined) {\n    throw new Error(\"useChat must be used within a ChatProvider\");\n  }\n  return context;\n}"],"names":[],"mappings":";;;;;AAEA;AAMA;AAEA;AACA;;;AAXA;;;;;AA0BA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,SAAS,aAAa,EAC3B,QAAQ,EACR,SAAS,EACT,kBAAkB,EAAE,EACuB;;IAC3C,MAAM,EAAE,UAAU,EAAE,cAAc,EAAE,GAAG,CAAA,GAAA,uJAAA,CAAA,gBAAa,AAAD;IAEnD,MAAM,EACJ,QAAQ,EACR,KAAK,EACL,iBAAiB,EACjB,YAAY,EACZ,MAAM,EACP,GAAG,CAAA,GAAA,yJAAA,CAAA,UAAS,AAAD,EAAE;QACZ,KAAK;QACL;QACA,MAAM;YACJ,OAAO,WAAW,SAAS;YAC3B;QACF;QACA,UAAU;sCAAE,CAAC,EAAE,QAAQ,EAAE;gBACvB,eAAe;YACjB;;IACF;IAEA,uBAAuB;IACvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,CAAC,aAAa,SAAS,MAAM,GAAG,GAAG;gBACrC,CAAA,GAAA,wIAAA,CAAA,iBAAc,AAAD,EAAE,UAAU,WAAW,SAAS;YAC/C;QACF;iCAAG;QAAC;QAAU;QAAY;KAAU;IAEpC,qBACE,6LAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;GA7CgB;;QAKyB,uJAAA,CAAA,gBAAa;QAQhD,yJAAA,CAAA,UAAS;;;KAbC;AA+CT,SAAS;;IACd,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}},
    {"offset": {"line": 901, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/chat/MarkdownRenderer.tsx"],"sourcesContent":["\"use client\";\n\nimport ReactMarkdown from \"react-markdown\";\nimport { cn } from \"@/lib/utils\";\n\ninterface MarkdownRendererProps {\n  content: string;\n  className?: string;\n}\n\nexport function MarkdownRenderer({\n  content,\n  className,\n}: MarkdownRendererProps) {\n  return (\n    <div className={cn(\"prose leading-tight max-w-none\", className)}>\n      <ReactMarkdown\n        components={{\n          code: ({ children, className, ...props }) => {\n            const match = /language-(\\w+)/.exec(className || \"\");\n            const isInline = !match;\n\n            if (isInline) {\n              return (\n                <code\n                  className=\"not-prose text-sm px-1 py-0.5 rounded-sm bg-neutral-100 text-neutral-900 font-mono\"\n                  {...props}\n                >\n                  {children}\n                </code>\n              );\n            }\n            return (\n              <code className={cn(\"\", className)} {...props}>\n                {children}\n              </code>\n            );\n          },\n        }}\n      >\n        {content}\n      </ReactMarkdown>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAUO,SAAS,iBAAiB,EAC/B,OAAO,EACP,SAAS,EACa;IACtB,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,kCAAkC;kBACnD,cAAA,6LAAC,2LAAA,CAAA,UAAa;YACZ,YAAY;gBACV,MAAM,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,OAAO;oBACtC,MAAM,QAAQ,iBAAiB,IAAI,CAAC,aAAa;oBACjD,MAAM,WAAW,CAAC;oBAElB,IAAI,UAAU;wBACZ,qBACE,6LAAC;4BACC,WAAU;4BACT,GAAG,KAAK;sCAER;;;;;;oBAGP;oBACA,qBACE,6LAAC;wBAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,IAAI;wBAAa,GAAG,KAAK;kCAC1C;;;;;;gBAGP;YACF;sBAEC;;;;;;;;;;;AAIT;KAlCgB","debugId":null}},
    {"offset": {"line": 965, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/chat/MessageList.tsx"],"sourcesContent":["\"use client\";\n\nimport { Message } from \"ai\";\nimport { cn } from \"@/lib/utils\";\nimport { User, Bot, Loader2 } from \"lucide-react\";\nimport { MarkdownRenderer } from \"./MarkdownRenderer\";\n\ninterface MessageListProps {\n  messages: Message[];\n  isLoading?: boolean;\n}\n\nexport function MessageList({ messages, isLoading }: MessageListProps) {\n\n  return (\n    <div className=\"flex flex-col h-full overflow-y-auto px-4 py-6\">\n      <div className=\"space-y-6 max-w-4xl mx-auto w-full\">\n        {messages.map((message) => (\n          <div\n            key={message.id || message.content}\n            className={cn(\n              \"flex gap-4\",\n              message.role === \"user\" ? \"justify-end\" : \"justify-start\"\n            )}\n          >\n            {message.role === \"assistant\" && (\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-9 h-9 rounded-lg bg-white border border-neutral-200 shadow-sm flex items-center justify-center\">\n                  <Bot className=\"h-4.5 w-4.5 text-neutral-700\" />\n                </div>\n              </div>\n            )}\n            \n            <div className={cn(\n              \"flex flex-col gap-2 max-w-[85%]\",\n              message.role === \"user\" ? \"items-end\" : \"items-start\"\n            )}>\n              <div className={cn(\n                \"rounded-xl px-4 py-3\",\n                message.role === \"user\" \n                  ? \"bg-blue-600 text-white shadow-sm\" \n                  : \"bg-white text-neutral-900 border border-neutral-200 shadow-sm\"\n              )}>\n                <div className=\"text-sm\">\n                  {message.parts ? (\n                    <>\n                      {message.parts.map((part, partIndex) => {\n                        switch (part.type) {\n                          case \"text\":\n                            return message.role === \"user\" ? (\n                              <span key={partIndex} className=\"whitespace-pre-wrap\">{part.text}</span>\n                            ) : (\n                              <MarkdownRenderer\n                                key={partIndex}\n                                content={part.text}\n                                className=\"prose-sm\"\n                              />\n                            );\n                          case \"reasoning\":\n                            return (\n                              <div key={partIndex} className=\"mt-3 p-3 bg-white/50 rounded-md border border-neutral-200\">\n                                <span className=\"text-xs font-medium text-neutral-600 block mb-1\">Reasoning</span>\n                                <span className=\"text-sm text-neutral-700\">{part.reasoning}</span>\n                              </div>\n                            );\n                          case \"tool-invocation\":\n                            const tool = part.toolInvocation;\n                            return (\n                              <div key={partIndex} className=\"inline-flex items-center gap-2 mt-2 px-3 py-1.5 bg-neutral-50 rounded-lg text-xs font-mono border border-neutral-200\">\n                                {tool.state === \"result\" && tool.result ? (\n                                  <>\n                                    <div className=\"w-2 h-2 rounded-full bg-emerald-500\"></div>\n                                    <span className=\"text-neutral-700\">{tool.toolName}</span>\n                                  </>\n                                ) : (\n                                  <>\n                                    <Loader2 className=\"w-3 h-3 animate-spin text-blue-600\" />\n                                    <span className=\"text-neutral-700\">{tool.toolName}</span>\n                                  </>\n                                )}\n                              </div>\n                            );\n                          case \"source\":\n                            return (\n                              <div key={partIndex} className=\"mt-2 text-xs text-neutral-500\">\n                                Source: {JSON.stringify(part.source)}\n                              </div>\n                            );\n                          case \"step-start\":\n                            return partIndex > 0 ? <hr key={partIndex} className=\"my-3 border-neutral-200\" /> : null;\n                          default:\n                            return null;\n                        }\n                      })}\n                      {isLoading &&\n                        message.role === \"assistant\" &&\n                        messages.indexOf(message) === messages.length - 1 && (\n                          <div className=\"flex items-center gap-2 mt-3 text-neutral-500\">\n                            <Loader2 className=\"h-3 w-3 animate-spin\" />\n                            <span className=\"text-sm\">Generating...</span>\n                          </div>\n                        )}\n                    </>\n                  ) : message.content ? (\n                    message.role === \"user\" ? (\n                      <span className=\"whitespace-pre-wrap\">{message.content}</span>\n                    ) : (\n                      <MarkdownRenderer content={message.content} className=\"prose-sm\" />\n                    )\n                  ) : isLoading &&\n                    message.role === \"assistant\" &&\n                    messages.indexOf(message) === messages.length - 1 ? (\n                    <div className=\"flex items-center gap-2 text-neutral-500\">\n                      <Loader2 className=\"h-3 w-3 animate-spin\" />\n                      <span className=\"text-sm\">Generating...</span>\n                    </div>\n                  ) : null}\n                </div>\n              </div>\n            </div>\n            \n            {message.role === \"user\" && (\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-9 h-9 rounded-lg bg-blue-600 shadow-sm flex items-center justify-center\">\n                  <User className=\"h-4.5 w-4.5 text-white\" />\n                </div>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1258, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/chat/MessageInput.tsx"],"sourcesContent":["\"use client\";\n\nimport { ChangeEvent, FormEvent, KeyboardEvent } from \"react\";\nimport { Send } from \"lucide-react\";\n\ninterface MessageInputProps {\n  input: string;\n  handleInputChange: (e: ChangeEvent<HTMLTextAreaElement>) => void;\n  handleSubmit: (e: FormEvent<HTMLFormElement>) => void;\n  isLoading: boolean;\n}\n\nexport function MessageInput({\n  input,\n  handleInputChange,\n  handleSubmit,\n  isLoading,\n}: MessageInputProps) {\n  const handleKeyDown = (e: KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      const form = e.currentTarget.form;\n      if (form) {\n        form.requestSubmit();\n      }\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"relative p-4 bg-white border-t border-neutral-200/60\">\n      <div className=\"relative max-w-4xl mx-auto\">\n        <textarea\n          value={input}\n          onChange={handleInputChange}\n          onKeyDown={handleKeyDown}\n          placeholder=\"Describe the React component you want to create...\"\n          disabled={isLoading}\n          className=\"w-full min-h-[80px] max-h-[200px] pl-4 pr-14 py-3.5 rounded-xl border border-neutral-200 bg-neutral-50/50 text-neutral-900 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500/50 focus:bg-white transition-all placeholder:text-neutral-400 text-[15px] font-normal shadow-sm\"\n          rows={3}\n        />\n        <button \n          type=\"submit\" \n          disabled={isLoading || !input.trim()}\n          className=\"absolute right-3 bottom-3 p-2.5 rounded-lg transition-all hover:bg-blue-50 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-transparent group\"\n        >\n          <Send className={`h-4 w-4 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5 ${isLoading || !input.trim() ? 'text-neutral-300' : 'text-blue-600'}`} />\n        </button>\n      </div>\n    </form>\n  );\n}"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAYO,SAAS,aAAa,EAC3B,KAAK,EACL,iBAAiB,EACjB,YAAY,EACZ,SAAS,EACS;IAClB,MAAM,gBAAgB,CAAC;QACrB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YACpC,EAAE,cAAc;YAChB,MAAM,OAAO,EAAE,aAAa,CAAC,IAAI;YACjC,IAAI,MAAM;gBACR,KAAK,aAAa;YACpB;QACF;IACF;IAEA,qBACE,6LAAC;QAAK,UAAU;QAAc,WAAU;kBACtC,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBACC,OAAO;oBACP,UAAU;oBACV,WAAW;oBACX,aAAY;oBACZ,UAAU;oBACV,WAAU;oBACV,MAAM;;;;;;8BAER,6LAAC;oBACC,MAAK;oBACL,UAAU,aAAa,CAAC,MAAM,IAAI;oBAClC,WAAU;8BAEV,cAAA,6LAAC,qMAAA,CAAA,OAAI;wBAAC,WAAW,CAAC,sFAAsF,EAAE,aAAa,CAAC,MAAM,IAAI,KAAK,qBAAqB,iBAAiB;;;;;;;;;;;;;;;;;;;;;;AAKvL;KAtCgB","debugId":null}},
    {"offset": {"line": 1335, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction ScrollArea({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {\n  return (\n    <ScrollAreaPrimitive.Root\n      data-slot=\"scroll-area\"\n      className={cn(\"relative\", className)}\n      {...props}\n    >\n      <ScrollAreaPrimitive.Viewport\n        data-slot=\"scroll-area-viewport\"\n        className=\"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1\"\n      >\n        {children}\n      </ScrollAreaPrimitive.Viewport>\n      <ScrollBar />\n      <ScrollAreaPrimitive.Corner />\n    </ScrollAreaPrimitive.Root>\n  )\n}\n\nfunction ScrollBar({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\n  return (\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\n      data-slot=\"scroll-area-scrollbar\"\n      orientation={orientation}\n      className={cn(\n        \"flex touch-none p-px transition-colors select-none\",\n        orientation === \"vertical\" &&\n          \"h-full w-2.5 border-l border-l-transparent\",\n        orientation === \"horizontal\" &&\n          \"h-2.5 flex-col border-t border-t-transparent\",\n        className\n      )}\n      {...props}\n    >\n      <ScrollAreaPrimitive.ScrollAreaThumb\n        data-slot=\"scroll-area-thumb\"\n        className=\"bg-border relative flex-1 rounded-full\"\n      />\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\n  )\n}\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,6LAAC,6KAAA,CAAA,OAAwB;QACvB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QACzB,GAAG,KAAK;;0BAET,6LAAC,6KAAA,CAAA,WAA4B;gBAC3B,aAAU;gBACV,WAAU;0BAET;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,6KAAA,CAAA,SAA0B;;;;;;;;;;;AAGjC;KArBS;AAuBT,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,UAAU,EACxB,GAAG,OACkE;IACrE,qBACE,6LAAC,6KAAA,CAAA,sBAAuC;QACtC,aAAU;QACV,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA,gBAAgB,cACd,8CACF,gBAAgB,gBACd,gDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,6KAAA,CAAA,kBAAmC;YAClC,aAAU;YACV,WAAU;;;;;;;;;;;AAIlB;MAzBS","debugId":null}},
    {"offset": {"line": 1413, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/chat/ChatInterface.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport { MessageList } from \"./MessageList\";\nimport { MessageInput } from \"./MessageInput\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { useChat } from \"@/lib/contexts/chat-context\";\nimport { Bot } from \"lucide-react\";\n\nexport function ChatInterface() {\n  const scrollAreaRef = useRef<HTMLDivElement>(null);\n  const { messages, input, handleInputChange, handleSubmit, status } = useChat();\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    if (scrollAreaRef.current) {\n      const scrollContainer = scrollAreaRef.current.querySelector(\n        \"[data-radix-scroll-area-viewport]\"\n      );\n      if (scrollContainer) {\n        scrollContainer.scrollTop = scrollContainer.scrollHeight;\n      }\n    }\n  }, [messages]);\n\n  if (messages.length === 0) {\n    return (\n      <div className=\"flex flex-col h-full p-4 overflow-hidden\">\n        <div className=\"flex-1 flex flex-col items-center justify-center text-center px-4\">\n          <div className=\"flex items-center justify-center w-14 h-14 rounded-2xl bg-blue-50 mb-4 shadow-sm\">\n            <Bot className=\"h-7 w-7 text-blue-600\" />\n          </div>\n          <p className=\"text-neutral-900 font-semibold text-lg mb-2\">Start a conversation to generate React components</p>\n          <p className=\"text-neutral-500 text-sm max-w-sm\">I can help you create buttons, forms, cards, and more</p>\n        </div>\n        <div className=\"mt-4 flex-shrink-0\">\n          <MessageInput\n            input={input}\n            handleInputChange={handleInputChange}\n            handleSubmit={handleSubmit}\n            isLoading={status === \"submitted\" || status === \"streaming\"}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-full p-4 overflow-hidden\">\n      <ScrollArea ref={scrollAreaRef} className=\"flex-1 overflow-hidden\">\n        <div className=\"pr-4\">\n          <MessageList messages={messages} isLoading={status === \"streaming\"} />\n        </div>\n      </ScrollArea>\n      <div className=\"mt-4 flex-shrink-0\">\n        <MessageInput\n          input={input}\n          handleInputChange={handleInputChange}\n          handleSubmit={handleSubmit}\n          isLoading={status === \"submitted\" || status === \"streaming\"}\n        />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASO,SAAS;;IACd,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAC7C,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,iBAAiB,EAAE,YAAY,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,6IAAA,CAAA,UAAO,AAAD;IAE3E,iDAAiD;IACjD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,IAAI,cAAc,OAAO,EAAE;gBACzB,MAAM,kBAAkB,cAAc,OAAO,CAAC,aAAa,CACzD;gBAEF,IAAI,iBAAiB;oBACnB,gBAAgB,SAAS,GAAG,gBAAgB,YAAY;gBAC1D;YACF;QACF;kCAAG;QAAC;KAAS;IAEb,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,mMAAA,CAAA,MAAG;gCAAC,WAAU;;;;;;;;;;;sCAEjB,6LAAC;4BAAE,WAAU;sCAA8C;;;;;;sCAC3D,6LAAC;4BAAE,WAAU;sCAAoC;;;;;;;;;;;;8BAEnD,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,6IAAA,CAAA,eAAY;wBACX,OAAO;wBACP,mBAAmB;wBACnB,cAAc;wBACd,WAAW,WAAW,eAAe,WAAW;;;;;;;;;;;;;;;;;IAK1D;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,6IAAA,CAAA,aAAU;gBAAC,KAAK;gBAAe,WAAU;0BACxC,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,4IAAA,CAAA,cAAW;wBAAC,UAAU;wBAAU,WAAW,WAAW;;;;;;;;;;;;;;;;0BAG3D,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,6IAAA,CAAA,eAAY;oBACX,OAAO;oBACP,mBAAmB;oBACnB,cAAc;oBACd,WAAW,WAAW,eAAe,WAAW;;;;;;;;;;;;;;;;;AAK1D;GAvDgB;;QAEuD,6IAAA,CAAA,UAAO;;;KAF9D","debugId":null}},
    {"offset": {"line": 1583, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/editor/FileTree.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { FileNode } from \"@/lib/file-system\";\nimport { useFileSystem } from \"@/lib/contexts/file-system-context\";\nimport {\n  ChevronRight,\n  ChevronDown,\n  Folder,\n  FolderOpen,\n  FileCode,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\n\ninterface FileTreeNodeProps {\n  node: FileNode;\n  level: number;\n}\n\nfunction FileTreeNode({ node, level }: FileTreeNodeProps) {\n  const { selectedFile, setSelectedFile } = useFileSystem();\n  const [isExpanded, setIsExpanded] = useState(true);\n\n  const handleClick = () => {\n    if (node.type === \"directory\") {\n      setIsExpanded(!isExpanded);\n    } else {\n      setSelectedFile(node.path);\n    }\n  };\n\n  const children =\n    node.type === \"directory\" && node.children\n      ? Array.from(node.children.values()).sort((a, b) => {\n          // Directories first, then files\n          if (a.type !== b.type) {\n            return a.type === \"directory\" ? -1 : 1;\n          }\n          return a.name.localeCompare(b.name);\n        })\n      : [];\n\n  return (\n    <div>\n      <div\n        className={cn(\n          \"flex items-center gap-2 px-2 py-1.5 hover:bg-gray-100 cursor-pointer text-sm transition-colors\",\n          selectedFile === node.path && \"bg-blue-50 text-blue-600\"\n        )}\n        style={{ paddingLeft: `${level * 12 + 8}px` }}\n        onClick={handleClick}\n      >\n        {node.type === \"directory\" ? (\n          <>\n            {isExpanded ? (\n              <ChevronDown className=\"h-3.5 w-3.5 shrink-0 text-gray-500\" />\n            ) : (\n              <ChevronRight className=\"h-3.5 w-3.5 shrink-0 text-gray-500\" />\n            )}\n            {isExpanded ? (\n              <FolderOpen className=\"h-4 w-4 shrink-0 text-blue-500\" />\n            ) : (\n              <Folder className=\"h-4 w-4 shrink-0 text-blue-500\" />\n            )}\n          </>\n        ) : (\n          <>\n            <div className=\"w-3.5\" />\n            <FileCode className=\"h-4 w-4 shrink-0 text-gray-400\" />\n          </>\n        )}\n        <span className=\"truncate text-gray-700\">{node.name}</span>\n      </div>\n      {node.type === \"directory\" && isExpanded && children.length > 0 && (\n        <div>\n          {children.map((child) => (\n            <FileTreeNode key={child.path} node={child} level={level + 1} />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport function FileTree() {\n  const { fileSystem, refreshTrigger } = useFileSystem();\n  const rootNode = fileSystem.getNode(\"/\");\n\n  if (!rootNode || !rootNode.children || rootNode.children.size === 0) {\n    return (\n      <div className=\"flex flex-col items-center justify-center h-full p-4 text-center\">\n        <Folder className=\"h-12 w-12 text-gray-300 mb-3\" />\n        <p className=\"text-sm text-gray-500\">No files yet</p>\n        <p className=\"text-xs text-gray-400 mt-1\">Files will appear here</p>\n      </div>\n    );\n  }\n\n  const rootChildren = Array.from(rootNode.children.values()).sort((a, b) => {\n    if (a.type !== b.type) {\n      return a.type === \"directory\" ? -1 : 1;\n    }\n    return a.name.localeCompare(b.name);\n  });\n\n  return (\n    <ScrollArea className=\"h-full\">\n      <div className=\"py-2\" key={refreshTrigger}>\n        {rootChildren.map((child) => (\n          <FileTreeNode key={child.path} node={child} level={0} />\n        ))}\n      </div>\n    </ScrollArea>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1804, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/editor/CodeEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport Editor from \"@monaco-editor/react\";\nimport { useFileSystem } from \"@/lib/contexts/file-system-context\";\nimport { Code2 } from \"lucide-react\";\n\nexport function CodeEditor() {\n  const { selectedFile, getFileContent, updateFile } = useFileSystem();\n  const editorRef = useRef<any>(null);\n\n  const handleEditorDidMount = (editor: any) => {\n    editorRef.current = editor;\n  };\n\n  const handleEditorChange = (value: string | undefined) => {\n    if (selectedFile && value !== undefined) {\n      updateFile(selectedFile, value);\n    }\n  };\n\n  const getLanguageFromPath = (path: string): string => {\n    const extension = path.split('.').pop()?.toLowerCase();\n    switch (extension) {\n      case 'js':\n      case 'jsx':\n        return 'javascript';\n      case 'ts':\n      case 'tsx':\n        return 'typescript';\n      case 'json':\n        return 'json';\n      case 'css':\n        return 'css';\n      case 'html':\n        return 'html';\n      case 'md':\n        return 'markdown';\n      default:\n        return 'plaintext';\n    }\n  };\n\n  if (!selectedFile) {\n    return (\n      <div className=\"h-full flex items-center justify-center bg-gray-900\">\n        <div className=\"text-center\">\n          <Code2 className=\"h-12 w-12 text-gray-600 mx-auto mb-3\" />\n          <p className=\"text-sm text-gray-500\">\n            Select a file to edit\n          </p>\n          <p className=\"text-xs text-gray-600 mt-1\">\n            Choose a file from the file tree\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  const content = getFileContent(selectedFile) || '';\n  const language = getLanguageFromPath(selectedFile);\n\n  return (\n    <Editor\n      height=\"100%\"\n      language={language}\n      value={content}\n      onChange={handleEditorChange}\n      onMount={handleEditorDidMount}\n      theme=\"vs-dark\"\n      options={{\n        minimap: { enabled: false },\n        fontSize: 14,\n        lineNumbers: 'on',\n        roundedSelection: false,\n        scrollBeyondLastLine: false,\n        readOnly: false,\n        automaticLayout: true,\n        wordWrap: 'on',\n        padding: { top: 16, bottom: 16 },\n      }}\n    />\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AACA;AACA;;;AALA;;;;;AAOO,SAAS;;IACd,MAAM,EAAE,YAAY,EAAE,cAAc,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,uJAAA,CAAA,gBAAa,AAAD;IACjE,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAO;IAE9B,MAAM,uBAAuB,CAAC;QAC5B,UAAU,OAAO,GAAG;IACtB;IAEA,MAAM,qBAAqB,CAAC;QAC1B,IAAI,gBAAgB,UAAU,WAAW;YACvC,WAAW,cAAc;QAC3B;IACF;IAEA,MAAM,sBAAsB,CAAC;QAC3B,MAAM,YAAY,KAAK,KAAK,CAAC,KAAK,GAAG,IAAI;QACzC,OAAQ;YACN,KAAK;YACL,KAAK;gBACH,OAAO;YACT,KAAK;YACL,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,IAAI,CAAC,cAAc;QACjB,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,6MAAA,CAAA,QAAK;wBAAC,WAAU;;;;;;kCACjB,6LAAC;wBAAE,WAAU;kCAAwB;;;;;;kCAGrC,6LAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;;;;;;IAMlD;IAEA,MAAM,UAAU,eAAe,iBAAiB;IAChD,MAAM,WAAW,oBAAoB;IAErC,qBACE,6LAAC,gLAAA,CAAA,UAAM;QACL,QAAO;QACP,UAAU;QACV,OAAO;QACP,UAAU;QACV,SAAS;QACT,OAAM;QACN,SAAS;YACP,SAAS;gBAAE,SAAS;YAAM;YAC1B,UAAU;YACV,aAAa;YACb,kBAAkB;YAClB,sBAAsB;YACtB,UAAU;YACV,iBAAiB;YACjB,UAAU;YACV,SAAS;gBAAE,KAAK;gBAAI,QAAQ;YAAG;QACjC;;;;;;AAGN;GA5EgB;;QACuC,uJAAA,CAAA,gBAAa;;;KADpD","debugId":null}},
    {"offset": {"line": 1942, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/lib/transform/jsx-transformer.ts"],"sourcesContent":["import * as Babel from \"@babel/standalone\";\n\nexport interface TransformResult {\n  code: string;\n  error?: string;\n  missingImports?: Set<string>;\n  cssImports?: Set<string>;\n}\n\n// Helper to create a placeholder module\nfunction createPlaceholderModule(componentName: string): string {\n  return `\nimport React from 'react';\nconst ${componentName} = function() {\n  return React.createElement('div', {}, null);\n}\nexport default ${componentName};\nexport { ${componentName} };\n`;\n}\n\n\nexport function transformJSX(\n  code: string,\n  filename: string,\n  existingFiles: Set<string>\n): TransformResult {\n  try {\n    const isTypeScript = filename.endsWith(\".ts\") || filename.endsWith(\".tsx\");\n\n    // Pre-process imports to handle missing files\n    let processedCode = code;\n    const importRegex =\n      /import\\s+(?:{[^}]+}|[^,\\s]+)?\\s*(?:,\\s*{[^}]+})?\\s+from\\s+['\"]([^'\"]+)['\"]/g;\n    const imports = new Set<string>();\n    const cssImports = new Set<string>();\n\n    // Detect CSS imports\n    const cssImportRegex = /import\\s+['\"]([^'\"]+\\.css)['\"]/g;\n    let cssMatch;\n    while ((cssMatch = cssImportRegex.exec(code)) !== null) {\n      cssImports.add(cssMatch[1]);\n    }\n\n    // Remove CSS imports from code\n    processedCode = processedCode.replace(cssImportRegex, '');\n\n    let match;\n    while ((match = importRegex.exec(code)) !== null) {\n      // Skip CSS files from regular imports\n      if (!match[1].endsWith('.css')) {\n        imports.add(match[1]);\n      }\n    }\n\n    const result = Babel.transform(processedCode, {\n      filename,\n      presets: [\n        [\"react\", { runtime: \"automatic\" }],\n        ...(isTypeScript ? [\"typescript\"] : []),\n      ],\n      plugins: [],\n    });\n\n    return {\n      code: result.code || \"\",\n      missingImports: imports,\n      cssImports: cssImports,\n    };\n  } catch (error) {\n    return {\n      code: \"\",\n      error: error instanceof Error ? error.message : \"Unknown transform error\",\n    };\n  }\n}\n\nexport function createBlobURL(\n  code: string,\n  mimeType: string = \"application/javascript\"\n): string {\n  const blob = new Blob([code], { type: mimeType });\n  return URL.createObjectURL(blob);\n}\n\nexport interface ImportMapResult {\n  importMap: string;\n  styles: string;\n  errors: Array<{ path: string; error: string }>;\n}\n\nexport function createImportMap(files: Map<string, string>): ImportMapResult {\n  const imports: Record<string, string> = {\n    react: \"https://esm.sh/react@19\",\n    \"react-dom\": \"https://esm.sh/react-dom@19\",\n    \"react-dom/client\": \"https://esm.sh/react-dom@19/client\",\n    \"react/jsx-runtime\": \"https://esm.sh/react@19/jsx-runtime\",\n    \"react/jsx-dev-runtime\": \"https://esm.sh/react@19/jsx-dev-runtime\",\n  };\n\n  // Transform each file and create blob URLs\n  const transformedFiles = new Map<string, string>();\n  const existingFiles = new Set(files.keys());\n  const allImports = new Set<string>();\n  const allCssImports = new Set<{ from: string; cssPath: string }>();\n  let collectedStyles = \"\";\n  const errors: Array<{ path: string; error: string }> = [];\n\n  // First pass: transform all files and collect imports\n  for (const [path, content] of files) {\n    if (\n      path.endsWith(\".js\") ||\n      path.endsWith(\".jsx\") ||\n      path.endsWith(\".ts\") ||\n      path.endsWith(\".tsx\")\n    ) {\n      const { code, error, missingImports, cssImports } = transformJSX(\n        content,\n        path,\n        existingFiles\n      );\n      \n      if (error) {\n        // Track error for this file\n        errors.push({ path, error });\n        // Skip processing this file entirely\n        continue;\n      }\n      \n      // Normal successful transform\n      const blobUrl = createBlobURL(code);\n      transformedFiles.set(path, blobUrl);\n\n      // Collect all imports\n      if (missingImports) {\n        missingImports.forEach((imp) => {\n          // Check if this is a third-party package\n          const isPackage = !imp.startsWith(\".\") && \n                            !imp.startsWith(\"/\") && \n                            !imp.startsWith(\"@/\");\n          \n          if (isPackage) {\n            // Add third-party packages directly to import map\n            imports[imp] = `https://esm.sh/${imp}`;\n          } else {\n            // Add local imports to be processed later\n            allImports.add(imp);\n          }\n        });\n      }\n\n      // Collect CSS imports\n      if (cssImports) {\n        cssImports.forEach((cssImport) => {\n          allCssImports.add({ from: path, cssPath: cssImport });\n        });\n      }\n\n      // Add to import map with absolute path\n      imports[path] = blobUrl;\n\n      // Also add without leading slash\n      if (path.startsWith(\"/\")) {\n        imports[path.substring(1)] = blobUrl;\n      }\n\n      // Add @/ alias support - maps @/ to root directory\n      if (path.startsWith(\"/\")) {\n        imports[\"@\" + path] = blobUrl;\n        imports[\"@/\" + path.substring(1)] = blobUrl;\n      }\n\n      // Add entries without file extensions for all variations\n      const pathWithoutExt = path.replace(/\\.(jsx?|tsx?)$/, \"\");\n      imports[pathWithoutExt] = blobUrl;\n\n      if (path.startsWith(\"/\")) {\n        imports[pathWithoutExt.substring(1)] = blobUrl;\n        imports[\"@\" + pathWithoutExt] = blobUrl;\n        imports[\"@/\" + pathWithoutExt.substring(1)] = blobUrl;\n      }\n    } else if (path.endsWith(\".css\")) {\n      // Collect CSS file content\n      collectedStyles += `/* ${path} */\\n${content}\\n\\n`;\n    }\n  }\n\n  // Process CSS imports\n  for (const { from, cssPath } of allCssImports) {\n    // Resolve CSS path relative to the importing file\n    let resolvedPath = cssPath;\n    \n    if (cssPath.startsWith(\"@/\")) {\n      // @/ alias points to root\n      resolvedPath = cssPath.replace(\"@/\", \"/\");\n    } else if (cssPath.startsWith(\"./\") || cssPath.startsWith(\"../\")) {\n      // Relative path\n      const fromDir = from.substring(0, from.lastIndexOf(\"/\"));\n      resolvedPath = resolveRelativePath(fromDir, cssPath);\n    }\n\n    // Check if CSS file exists\n    if (files.has(resolvedPath)) {\n      // Already processed in the loop above\n    } else {\n      // CSS file not found\n      collectedStyles += `/* ${cssPath} not found */\\n`;\n    }\n  }\n\n  // Second pass: create placeholder modules for missing imports\n  for (const importPath of allImports) {\n    // Skip if it's a known module or already exists\n    if (imports[importPath] || importPath.startsWith(\"react\")) {\n      continue;\n    }\n\n    // Check if this is a third-party package (no relative path indicators)\n    const isPackage = !importPath.startsWith(\".\") && \n                      !importPath.startsWith(\"/\") && \n                      !importPath.startsWith(\"@/\");\n\n    if (isPackage) {\n      // Handle third-party packages from esm.sh\n      const packageUrl = `https://esm.sh/${importPath}`;\n      imports[importPath] = packageUrl;\n      continue;\n    }\n\n    // Check if the import exists in any form (local files)\n    let found = false;\n    const variations = [\n      importPath,\n      importPath + \".jsx\",\n      importPath + \".tsx\",\n      importPath + \".js\",\n      importPath + \".ts\",\n      importPath.replace(\"@/\", \"/\"),\n      importPath.replace(\"@/\", \"/\") + \".jsx\",\n      importPath.replace(\"@/\", \"/\") + \".tsx\",\n    ];\n\n    for (const variant of variations) {\n      if (imports[variant] || files.has(variant)) {\n        found = true;\n        break;\n      }\n    }\n\n    if (!found) {\n      // Extract component name from path\n      const match = importPath.match(/\\/([^\\/]+)$/);\n      const componentName = match\n        ? match[1]\n        : importPath.replace(/[^a-zA-Z0-9]/g, \"\");\n\n      // Create placeholder module\n      const placeholderCode = createPlaceholderModule(componentName);\n      const placeholderUrl = createBlobURL(placeholderCode);\n\n      // Add all possible import variations\n      imports[importPath] = placeholderUrl;\n      if (importPath.startsWith(\"@/\")) {\n        imports[importPath.replace(\"@/\", \"/\")] = placeholderUrl;\n        imports[importPath.replace(\"@/\", \"\")] = placeholderUrl;\n      }\n    }\n  }\n\n  return {\n    importMap: JSON.stringify({ imports }, null, 2),\n    styles: collectedStyles,\n    errors\n  };\n}\n\n// Helper function to resolve relative paths\nfunction resolveRelativePath(fromDir: string, relativePath: string): string {\n  const parts = fromDir.split(\"/\").filter(Boolean);\n  const relParts = relativePath.split(\"/\");\n  \n  for (const part of relParts) {\n    if (part === \"..\") {\n      parts.pop();\n    } else if (part !== \".\") {\n      parts.push(part);\n    }\n  }\n  \n  return \"/\" + parts.join(\"/\");\n}\n\nexport function createPreviewHTML(\n  entryPoint: string,\n  importMap: string,\n  styles: string = \"\",\n  errors: Array<{ path: string; error: string }> = []\n): string {\n  // Parse the import map to get the blob URL for the entry point\n  let entryPointUrl = entryPoint;\n  try {\n    const importMapObj = JSON.parse(importMap);\n    if (importMapObj.imports && importMapObj.imports[entryPoint]) {\n      entryPointUrl = importMapObj.imports[entryPoint];\n    }\n  } catch (e) {\n    console.error(\"Failed to parse import map:\", e);\n  }\n\n  return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Preview</title>\n  <script src=\"https://cdn.tailwindcss.com\"></script>\n  <style>\n    body {\n      margin: 0;\n      padding: 0;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    }\n    #root {\n      width: 100vw;\n      height: 100vh;\n    }\n    .error-boundary {\n      color: red;\n      padding: 1rem;\n      border: 2px solid red;\n      margin: 1rem;\n      border-radius: 4px;\n      background: #fee;\n    }\n    .syntax-errors {\n      background: #fef5f5;\n      border: 2px solid #ff6b6b;\n      border-radius: 12px;\n      padding: 32px;\n      margin: 24px;\n      font-family: 'SF Mono', Monaco, Consolas, 'Courier New', monospace;\n      font-size: 14px;\n      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    }\n    .syntax-errors h3 {\n      color: #dc2626;\n      margin: 0 0 20px 0;\n      font-size: 18px;\n      font-weight: 600;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n    }\n    .syntax-errors .error-item {\n      margin: 16px 0;\n      padding: 16px;\n      background: #fff;\n      border-radius: 8px;\n      border-left: 4px solid #ff6b6b;\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n    }\n    .syntax-errors .error-path {\n      font-weight: 600;\n      color: #991b1b;\n      font-size: 15px;\n      margin-bottom: 8px;\n    }\n    .syntax-errors .error-message {\n      color: #7c2d12;\n      margin-top: 8px;\n      white-space: pre-wrap;\n      line-height: 1.5;\n      font-size: 13px;\n    }\n    .syntax-errors .error-location {\n      display: inline-block;\n      background: #fee0e0;\n      padding: 2px 6px;\n      border-radius: 4px;\n      font-size: 12px;\n      margin-left: 8px;\n      color: #991b1b;\n    }\n  </style>\n  ${styles ? `<style>\\n${styles}</style>` : ''}\n  <script type=\"importmap\">\n    ${importMap}\n  </script>\n</head>\n<body>\n  ${errors.length > 0 ? `\n    <div class=\"syntax-errors\">\n      <h3>\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" style=\"flex-shrink: 0;\">\n          <path d=\"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm1 15h-2v-2h2v2zm0-4h-2V5h2v6z\" fill=\"#dc2626\"/>\n        </svg>\n        Syntax Error${errors.length > 1 ? 's' : ''} (${errors.length})\n      </h3>\n      ${errors.map(e => {\n        const locationMatch = e.error.match(/\\((\\d+:\\d+)\\)/);\n        const location = locationMatch ? locationMatch[1] : '';\n        const cleanError = e.error.replace(/\\(\\d+:\\d+\\)/, '').trim();\n        \n        return `\n        <div class=\"error-item\">\n          <div class=\"error-path\">\n            ${e.path}\n            ${location ? `<span class=\"error-location\">${location}</span>` : ''}\n          </div>\n          <div class=\"error-message\">${cleanError.replace(/</g, '&lt;').replace(/>/g, '&gt;')}</div>\n        </div>\n      `;\n      }).join('')}\n    </div>\n  ` : ''}\n  <div id=\"root\"></div>\n  ${errors.length === 0 ? `<script type=\"module\">\n    import React from 'react';\n    import ReactDOM from 'react-dom/client';\n    \n    class ErrorBoundary extends React.Component {\n      constructor(props) {\n        super(props);\n        this.state = { hasError: false, error: null };\n      }\n\n      static getDerivedStateFromError(error) {\n        return { hasError: true, error };\n      }\n\n      componentDidCatch(error, errorInfo) {\n        console.error('Error caught by boundary:', error, errorInfo);\n      }\n\n      render() {\n        if (this.state.hasError) {\n          return React.createElement('div', { className: 'error-boundary' },\n            React.createElement('h2', null, 'Something went wrong'),\n            React.createElement('pre', null, this.state.error?.toString())\n          );\n        }\n\n        return this.props.children;\n      }\n    }\n\n    async function loadApp() {\n      try {\n        const module = await import('${entryPointUrl}');\n        const App = module.default || module.App;\n        \n        if (!App) {\n          throw new Error('No default export or App export found in ${entryPoint}');\n        }\n\n        const root = ReactDOM.createRoot(document.getElementById('root'));\n        root.render(\n          React.createElement(ErrorBoundary, null,\n            React.createElement(App)\n          )\n        );\n      } catch (error) {\n        console.error('Failed to load app:', error);\n        console.error('Import map:', ${JSON.stringify(importMap)});\n        document.getElementById('root').innerHTML = '<div class=\"error-boundary\"><h2>Failed to load app</h2><pre>' + error.toString() + '</pre></div>';\n      }\n    }\n\n    loadApp();\n  </script>` : ''}\n</body>\n</html>`;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2367, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/preview/PreviewFrame.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { useFileSystem } from \"@/lib/contexts/file-system-context\";\nimport {\n  createImportMap,\n  createPreviewHTML,\n} from \"@/lib/transform/jsx-transformer\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport function PreviewFrame() {\n  const iframeRef = useRef<HTMLIFrameElement>(null);\n  const { getAllFiles, refreshTrigger } = useFileSystem();\n  const [error, setError] = useState<string | null>(null);\n  const [entryPoint, setEntryPoint] = useState<string>(\"/App.jsx\");\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\n\n  useEffect(() => {\n    const updatePreview = () => {\n      try {\n        const files = getAllFiles();\n\n        // Clear error first when we have files\n        if (files.size > 0 && error) {\n          setError(null);\n        }\n\n        // Find the entry point - look for App.jsx, App.tsx, index.jsx, or index.tsx\n        let foundEntryPoint = entryPoint;\n        const possibleEntries = [\n          \"/App.jsx\",\n          \"/App.tsx\",\n          \"/index.jsx\",\n          \"/index.tsx\",\n          \"/src/App.jsx\",\n          \"/src/App.tsx\",\n        ];\n\n        if (!files.has(entryPoint)) {\n          const found = possibleEntries.find((path) => files.has(path));\n          if (found) {\n            foundEntryPoint = found;\n            setEntryPoint(found);\n          } else if (files.size > 0) {\n            // Just use the first .jsx/.tsx file found\n            const firstJSX = Array.from(files.keys()).find(\n              (path) => path.endsWith(\".jsx\") || path.endsWith(\".tsx\")\n            );\n            if (firstJSX) {\n              foundEntryPoint = firstJSX;\n              setEntryPoint(firstJSX);\n            }\n          }\n        }\n\n        if (files.size === 0) {\n          if (isFirstLoad) {\n            setError(\"firstLoad\");\n          } else {\n            setError(\"No files to preview\");\n          }\n          return;\n        }\n\n        // We have files, so it's no longer the first load\n        if (isFirstLoad) {\n          setIsFirstLoad(false);\n        }\n\n        if (!foundEntryPoint || !files.has(foundEntryPoint)) {\n          setError(\n            \"No React component found. Create an App.jsx or index.jsx file to get started.\"\n          );\n          return;\n        }\n\n        const { importMap, styles, errors } = createImportMap(files);\n        const previewHTML = createPreviewHTML(foundEntryPoint, importMap, styles, errors);\n\n        if (iframeRef.current) {\n          const iframe = iframeRef.current;\n\n          // Need both allow-scripts and allow-same-origin for blob URLs in import map\n          iframe.setAttribute(\n            \"sandbox\",\n            \"allow-scripts allow-same-origin allow-forms\"\n          );\n          iframe.srcdoc = previewHTML;\n\n          setError(null);\n        }\n      } catch (err) {\n        console.error(\"Preview error:\", err);\n        setError(err instanceof Error ? err.message : \"Unknown preview error\");\n      }\n    };\n\n    updatePreview();\n  }, [refreshTrigger, getAllFiles, entryPoint, error, isFirstLoad]);\n\n  if (error) {\n    if (error === \"firstLoad\") {\n      return (\n        <div className=\"h-full flex items-center justify-center p-8 bg-gray-50\">\n          <div className=\"text-center max-w-md\">\n            <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-4\">\n              <svg\n                className=\"h-8 w-8 text-blue-600\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M13 10V3L4 14h7v7l9-11h-7z\"\n                />\n              </svg>\n            </div>\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n              Welcome to UI Generator\n            </h3>\n            <p className=\"text-sm text-gray-600 mb-3\">\n              Start building React components with AI assistance\n            </p>\n            <p className=\"text-xs text-gray-500\">\n              Ask the AI to create your first component to see it live here\n            </p>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"h-full flex items-center justify-center p-8 bg-gray-50\">\n        <div className=\"text-center max-w-md\">\n          <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4\">\n            <AlertCircle className=\"h-8 w-8 text-gray-400\" />\n          </div>\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n            No Preview Available\n          </h3>\n          <p className=\"text-sm text-gray-500\">{error}</p>\n          <p className=\"text-xs text-gray-400 mt-2\">\n            Start by creating a React component using the AI assistant\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <iframe\n      ref={iframeRef}\n      className=\"w-full h-full border-0 bg-white\"\n      title=\"Preview\"\n    />\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2619, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,mKAAA,CAAA,OAAkB;QACjB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,mKAAA,CAAA,OAAkB;QACjB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,mKAAA,CAAA,UAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,mKAAA,CAAA,UAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 2695, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 2758, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,qKAAA,CAAA,OAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,6LAAC,qKAAA,CAAA,UAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,6LAAC,qKAAA,CAAA,SAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,qKAAA,CAAA,QAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,6LAAC,qKAAA,CAAA,UAAuB;QACtB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,6LAAC;QAAa,aAAU;;0BACtB,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,aAAU;gBACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,6LAAC,qKAAA,CAAA,QAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,6LAAC,mMAAA,CAAA,QAAK;;;;;0CACN,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,qKAAA,CAAA,QAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 2956, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/actions/index.ts"],"sourcesContent":["\"use server\";\n\nimport bcrypt from \"bcrypt\";\nimport { prisma } from \"@/lib/prisma\";\nimport { createSession, deleteSession, getSession } from \"@/lib/auth\";\nimport { revalidatePath } from \"next/cache\";\nimport { redirect } from \"next/navigation\";\n\nexport interface AuthResult {\n  success: boolean;\n  error?: string;\n}\n\nexport async function signUp(\n  email: string,\n  password: string\n): Promise<AuthResult> {\n  try {\n    // Validate input\n    if (!email || !password) {\n      return { success: false, error: \"Email and password are required\" };\n    }\n\n    if (password.length < 8) {\n      return {\n        success: false,\n        error: \"Password must be at least 8 characters\",\n      };\n    }\n\n    // Check if user already exists\n    const existingUser = await prisma.user.findUnique({\n      where: { email },\n    });\n\n    if (existingUser) {\n      return { success: false, error: \"Email already registered\" };\n    }\n\n    // Hash password\n    const hashedPassword = await bcrypt.hash(password, 10);\n\n    // Create user\n    const user = await prisma.user.create({\n      data: {\n        email,\n        password: hashedPassword,\n      },\n    });\n\n    // Create session\n    await createSession(user.id, user.email);\n\n    revalidatePath(\"/\");\n    return { success: true };\n  } catch (error) {\n    console.error(\"Sign up error:\", error);\n    return { success: false, error: \"An error occurred during sign up\" };\n  }\n}\n\nexport async function signIn(\n  email: string,\n  password: string\n): Promise<AuthResult> {\n  try {\n    // Validate input\n    if (!email || !password) {\n      return { success: false, error: \"Email and password are required\" };\n    }\n\n    // Find user\n    const user = await prisma.user.findUnique({\n      where: { email },\n    });\n\n    if (!user) {\n      return { success: false, error: \"Invalid credentials\" };\n    }\n\n    // Verify password\n    const isValidPassword = await bcrypt.compare(password, user.password);\n\n    if (!isValidPassword) {\n      return { success: false, error: \"Invalid credentials\" };\n    }\n\n    // Create session\n    await createSession(user.id, user.email);\n\n    revalidatePath(\"/\");\n    return { success: true };\n  } catch (error) {\n    console.error(\"Sign in error:\", error);\n    return { success: false, error: \"An error occurred during sign in\" };\n  }\n}\n\nexport async function signOut() {\n  await deleteSession();\n  revalidatePath(\"/\");\n  redirect(\"/\");\n}\n\nexport async function getUser() {\n  const session = await getSession();\n\n  if (!session) {\n    return null;\n  }\n\n  try {\n    const user = await prisma.user.findUnique({\n      where: { id: session.userId },\n      select: {\n        id: true,\n        email: true,\n        createdAt: true,\n      },\n    });\n\n    return user;\n  } catch (error) {\n    console.error(\"Get user error:\", error);\n    return null;\n  }\n}\n"],"names":[],"mappings":";;;;;;IA6DsB,SAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 2972, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/actions/index.ts"],"sourcesContent":["\"use server\";\n\nimport bcrypt from \"bcrypt\";\nimport { prisma } from \"@/lib/prisma\";\nimport { createSession, deleteSession, getSession } from \"@/lib/auth\";\nimport { revalidatePath } from \"next/cache\";\nimport { redirect } from \"next/navigation\";\n\nexport interface AuthResult {\n  success: boolean;\n  error?: string;\n}\n\nexport async function signUp(\n  email: string,\n  password: string\n): Promise<AuthResult> {\n  try {\n    // Validate input\n    if (!email || !password) {\n      return { success: false, error: \"Email and password are required\" };\n    }\n\n    if (password.length < 8) {\n      return {\n        success: false,\n        error: \"Password must be at least 8 characters\",\n      };\n    }\n\n    // Check if user already exists\n    const existingUser = await prisma.user.findUnique({\n      where: { email },\n    });\n\n    if (existingUser) {\n      return { success: false, error: \"Email already registered\" };\n    }\n\n    // Hash password\n    const hashedPassword = await bcrypt.hash(password, 10);\n\n    // Create user\n    const user = await prisma.user.create({\n      data: {\n        email,\n        password: hashedPassword,\n      },\n    });\n\n    // Create session\n    await createSession(user.id, user.email);\n\n    revalidatePath(\"/\");\n    return { success: true };\n  } catch (error) {\n    console.error(\"Sign up error:\", error);\n    return { success: false, error: \"An error occurred during sign up\" };\n  }\n}\n\nexport async function signIn(\n  email: string,\n  password: string\n): Promise<AuthResult> {\n  try {\n    // Validate input\n    if (!email || !password) {\n      return { success: false, error: \"Email and password are required\" };\n    }\n\n    // Find user\n    const user = await prisma.user.findUnique({\n      where: { email },\n    });\n\n    if (!user) {\n      return { success: false, error: \"Invalid credentials\" };\n    }\n\n    // Verify password\n    const isValidPassword = await bcrypt.compare(password, user.password);\n\n    if (!isValidPassword) {\n      return { success: false, error: \"Invalid credentials\" };\n    }\n\n    // Create session\n    await createSession(user.id, user.email);\n\n    revalidatePath(\"/\");\n    return { success: true };\n  } catch (error) {\n    console.error(\"Sign in error:\", error);\n    return { success: false, error: \"An error occurred during sign in\" };\n  }\n}\n\nexport async function signOut() {\n  await deleteSession();\n  revalidatePath(\"/\");\n  redirect(\"/\");\n}\n\nexport async function getUser() {\n  const session = await getSession();\n\n  if (!session) {\n    return null;\n  }\n\n  try {\n    const user = await prisma.user.findUnique({\n      where: { id: session.userId },\n      select: {\n        id: true,\n        email: true,\n        createdAt: true,\n      },\n    });\n\n    return user;\n  } catch (error) {\n    console.error(\"Get user error:\", error);\n    return null;\n  }\n}\n"],"names":[],"mappings":";;;;;;IAasB,SAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 2988, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/actions/get-projects.ts"],"sourcesContent":["\"use server\";\n\nimport { getSession } from \"@/lib/auth\";\nimport { prisma } from \"@/lib/prisma\";\n\nexport async function getProjects() {\n  const session = await getSession();\n  \n  if (!session) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const projects = await prisma.project.findMany({\n    where: {\n      userId: session.userId,\n    },\n    orderBy: {\n      updatedAt: \"desc\",\n    },\n    select: {\n      id: true,\n      name: true,\n      createdAt: true,\n      updatedAt: true,\n    },\n  });\n\n  return projects;\n}"],"names":[],"mappings":";;;;;;IAKsB,cAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 3004, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/actions/create-project.ts"],"sourcesContent":["\"use server\";\n\nimport { getSession } from \"@/lib/auth\";\nimport { prisma } from \"@/lib/prisma\";\n\ninterface CreateProjectInput {\n  name: string;\n  messages: any[];\n  data: Record<string, any>;\n}\n\nexport async function createProject(input: CreateProjectInput) {\n  const session = await getSession();\n  \n  if (!session) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const project = await prisma.project.create({\n    data: {\n      name: input.name,\n      userId: session.userId,\n      messages: JSON.stringify(input.messages),\n      data: JSON.stringify(input.data),\n    },\n  });\n\n  return project;\n}"],"names":[],"mappings":";;;;;;IAWsB,gBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 3020, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/hooks/use-auth.ts"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { signIn as signInAction, signUp as signUpAction } from \"@/actions\";\nimport { getAnonWorkData, clearAnonWork } from \"@/lib/anon-work-tracker\";\nimport { getProjects } from \"@/actions/get-projects\";\nimport { createProject } from \"@/actions/create-project\";\n\nexport function useAuth() {\n  const router = useRouter();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handlePostSignIn = async () => {\n    // Get any anonymous work\n    const anonWork = getAnonWorkData();\n\n    if (anonWork && anonWork.messages.length > 0) {\n      // Create a project with the anonymous work\n      const project = await createProject({\n        name: `Design from ${new Date().toLocaleTimeString()}`,\n        messages: anonWork.messages,\n        data: anonWork.fileSystemData,\n      });\n\n      clearAnonWork();\n      router.push(`/${project.id}`);\n      return;\n    }\n\n    // Otherwise, find the user's most recent project\n    const projects = await getProjects();\n\n    if (projects.length > 0) {\n      router.push(`/${projects[0].id}`);\n      return;\n    }\n\n    // If no projects exist, create a new one\n    const newProject = await createProject({\n      name: `New Design #${~~(Math.random() * 100000)}`,\n      messages: [],\n      data: {},\n    });\n\n    router.push(`/${newProject.id}`);\n  };\n\n  const signIn = async (email: string, password: string) => {\n    setIsLoading(true);\n    try {\n      const result = await signInAction(email, password);\n\n      if (result.success) {\n        await handlePostSignIn();\n      }\n\n      return result;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const signUp = async (email: string, password: string) => {\n    setIsLoading(true);\n    try {\n      const result = await signUpAction(email, password);\n\n      if (result.success) {\n        await handlePostSignIn();\n      }\n\n      return result;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return {\n    signIn,\n    signUp,\n    isLoading,\n  };\n}\n"],"names":[],"mappings":";;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;;AAPA;;;;;;;AASO,SAAS;;IACd,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,mBAAmB;QACvB,yBAAyB;QACzB,MAAM,WAAW,CAAA,GAAA,wIAAA,CAAA,kBAAe,AAAD;QAE/B,IAAI,YAAY,SAAS,QAAQ,CAAC,MAAM,GAAG,GAAG;YAC5C,2CAA2C;YAC3C,MAAM,UAAU,MAAM,CAAA,GAAA,yJAAA,CAAA,gBAAa,AAAD,EAAE;gBAClC,MAAM,CAAC,YAAY,EAAE,IAAI,OAAO,kBAAkB,IAAI;gBACtD,UAAU,SAAS,QAAQ;gBAC3B,MAAM,SAAS,cAAc;YAC/B;YAEA,CAAA,GAAA,wIAAA,CAAA,gBAAa,AAAD;YACZ,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,EAAE;YAC5B;QACF;QAEA,iDAAiD;QACjD,MAAM,WAAW,MAAM,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD;QAEjC,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAE,CAAC,EAAE,EAAE;YAChC;QACF;QAEA,yCAAyC;QACzC,MAAM,aAAa,MAAM,CAAA,GAAA,yJAAA,CAAA,gBAAa,AAAD,EAAE;YACrC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,KAAK,MAAM,KAAK,MAAM,GAAG;YACjD,UAAU,EAAE;YACZ,MAAM,CAAC;QACT;QAEA,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,WAAW,EAAE,EAAE;IACjC;IAEA,MAAM,SAAS,OAAO,OAAe;QACnC,aAAa;QACb,IAAI;YACF,MAAM,SAAS,MAAM,CAAA,GAAA,yJAAA,CAAA,SAAY,AAAD,EAAE,OAAO;YAEzC,IAAI,OAAO,OAAO,EAAE;gBAClB,MAAM;YACR;YAEA,OAAO;QACT,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,SAAS,OAAO,OAAe;QACnC,aAAa;QACb,IAAI;YACF,MAAM,SAAS,MAAM,CAAA,GAAA,yJAAA,CAAA,SAAY,AAAD,EAAE,OAAO;YAEzC,IAAI,OAAO,OAAO,EAAE;gBAClB,MAAM;YACR;YAEA,OAAO;QACT,SAAU;YACR,aAAa;QACf;IACF;IAEA,OAAO;QACL;QACA;QACA;IACF;AACF;GA1EgB;;QACC,qIAAA,CAAA,YAAS","debugId":null}},
    {"offset": {"line": 3114, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 3146, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,oKAAA,CAAA,OAAmB;QAClB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 3180, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/auth/SignInForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useAuth } from \"@/hooks/use-auth\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\n\ninterface SignInFormProps {\n  onSuccess?: () => void;\n}\n\nexport function SignInForm({ onSuccess }: SignInFormProps) {\n  const { signIn, isLoading } = useAuth();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n\n    const result = await signIn(email, password);\n\n    if (result.success) {\n      // The redirect is handled by the hook\n      onSuccess?.();\n    } else {\n      setError(result.error || \"Failed to sign in\");\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"email\">Email</Label>\n        <Input\n          id=\"email\"\n          type=\"email\"\n          placeholder=\"you@example.com\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n          disabled={isLoading}\n        />\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"password\">Password</Label>\n        <Input\n          id=\"password\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n          disabled={isLoading}\n        />\n      </div>\n\n      {error && (\n        <div className=\"text-sm text-red-600 bg-red-50 border border-red-200 rounded p-2\">\n          {error}\n        </div>\n      )}\n\n      <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n        {isLoading ? \"Signing in...\" : \"Sign In\"}\n      </Button>\n    </form>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAYO,SAAS,WAAW,EAAE,SAAS,EAAmB;;IACvD,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,UAAO,AAAD;IACpC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QAET,MAAM,SAAS,MAAM,OAAO,OAAO;QAEnC,IAAI,OAAO,OAAO,EAAE;YAClB,sCAAsC;YACtC;QACF,OAAO;YACL,SAAS,OAAO,KAAK,IAAI;QAC3B;IACF;IAEA,qBACE,6LAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,oIAAA,CAAA,QAAK;wBAAC,SAAQ;kCAAQ;;;;;;kCACvB,6LAAC,oIAAA,CAAA,QAAK;wBACJ,IAAG;wBACH,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,QAAQ;wBACR,UAAU;;;;;;;;;;;;0BAId,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,oIAAA,CAAA,QAAK;wBAAC,SAAQ;kCAAW;;;;;;kCAC1B,6LAAC,oIAAA,CAAA,QAAK;wBACJ,IAAG;wBACH,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wBAC3C,QAAQ;wBACR,UAAU;;;;;;;;;;;;YAIb,uBACC,6LAAC;gBAAI,WAAU;0BACZ;;;;;;0BAIL,6LAAC,qIAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,WAAU;gBAAS,UAAU;0BAChD,YAAY,kBAAkB;;;;;;;;;;;;AAIvC;GA1DgB;;QACgB,8HAAA,CAAA,UAAO;;;KADvB","debugId":null}},
    {"offset": {"line": 3319, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/auth/SignUpForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useAuth } from \"@/hooks/use-auth\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\n\ninterface SignUpFormProps {\n  onSuccess?: () => void;\n}\n\nexport function SignUpForm({ onSuccess }: SignUpFormProps) {\n  const { signUp, isLoading } = useAuth();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n\n    if (password !== confirmPassword) {\n      setError(\"Passwords do not match\");\n      return;\n    }\n\n    const result = await signUp(email, password);\n\n    if (result.success) {\n      // The redirect is handled by the hook\n      onSuccess?.();\n    } else {\n      setError(result.error || \"Failed to sign up\");\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"email\">Email</Label>\n        <Input\n          id=\"email\"\n          type=\"email\"\n          placeholder=\"you@example.com\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n          disabled={isLoading}\n        />\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"password\">Password</Label>\n        <Input\n          id=\"password\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n          disabled={isLoading}\n          minLength={8}\n        />\n        <p className=\"text-xs text-gray-500\">\n          Must be at least 8 characters long\n        </p>\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"confirmPassword\">Confirm Password</Label>\n        <Input\n          id=\"confirmPassword\"\n          type=\"password\"\n          value={confirmPassword}\n          onChange={(e) => setConfirmPassword(e.target.value)}\n          required\n          disabled={isLoading}\n        />\n      </div>\n\n      {error && (\n        <div className=\"text-sm text-red-600 bg-red-50 border border-red-200 rounded p-2\">\n          {error}\n        </div>\n      )}\n\n      <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n        {isLoading ? \"Creating account...\" : \"Sign Up\"}\n      </Button>\n    </form>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAYO,SAAS,WAAW,EAAE,SAAS,EAAmB;;IACvD,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,UAAO,AAAD;IACpC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QAET,IAAI,aAAa,iBAAiB;YAChC,SAAS;YACT;QACF;QAEA,MAAM,SAAS,MAAM,OAAO,OAAO;QAEnC,IAAI,OAAO,OAAO,EAAE;YAClB,sCAAsC;YACtC;QACF,OAAO;YACL,SAAS,OAAO,KAAK,IAAI;QAC3B;IACF;IAEA,qBACE,6LAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,oIAAA,CAAA,QAAK;wBAAC,SAAQ;kCAAQ;;;;;;kCACvB,6LAAC,oIAAA,CAAA,QAAK;wBACJ,IAAG;wBACH,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,QAAQ;wBACR,UAAU;;;;;;;;;;;;0BAId,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,oIAAA,CAAA,QAAK;wBAAC,SAAQ;kCAAW;;;;;;kCAC1B,6LAAC,oIAAA,CAAA,QAAK;wBACJ,IAAG;wBACH,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wBAC3C,QAAQ;wBACR,UAAU;wBACV,WAAW;;;;;;kCAEb,6LAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;0BAKvC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,oIAAA,CAAA,QAAK;wBAAC,SAAQ;kCAAkB;;;;;;kCACjC,6LAAC,oIAAA,CAAA,QAAK;wBACJ,IAAG;wBACH,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;wBAClD,QAAQ;wBACR,UAAU;;;;;;;;;;;;YAIb,uBACC,6LAAC;gBAAI,WAAU;0BACZ;;;;;;0BAIL,6LAAC,qIAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,WAAU;gBAAS,UAAU;0BAChD,YAAY,wBAAwB;;;;;;;;;;;;AAI7C;GAhFgB;;QACgB,8HAAA,CAAA,UAAO;;;KADvB","debugId":null}},
    {"offset": {"line": 3501, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/auth/AuthDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { SignInForm } from \"./SignInForm\";\nimport { SignUpForm } from \"./SignUpForm\";\n\ninterface AuthDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  defaultMode?: \"signin\" | \"signup\";\n}\n\nexport function AuthDialog({\n  open,\n  onOpenChange,\n  defaultMode = \"signin\",\n}: AuthDialogProps) {\n  const [mode, setMode] = useState<\"signin\" | \"signup\">(defaultMode);\n\n  useEffect(() => {\n    setMode(defaultMode);\n  }, [defaultMode]);\n\n  const handleSuccess = () => {\n    onOpenChange(false);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-[425px]\">\n        <DialogHeader>\n          <DialogTitle>\n            {mode === \"signin\" ? \"Welcome back\" : \"Create an account\"}\n          </DialogTitle>\n          <DialogDescription>\n            {mode === \"signin\"\n              ? \"Sign in to your account to continue\"\n              : \"Sign up to start creating AI-powered React components\"}\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"mt-4\">\n          {mode === \"signin\" ? (\n            <SignInForm onSuccess={handleSuccess} />\n          ) : (\n            <SignUpForm onSuccess={handleSuccess} />\n          )}\n        </div>\n\n        <div className=\"mt-4 text-center text-sm\">\n          {mode === \"signin\" ? (\n            <>\n              Don&apos;t have an account?{\" \"}\n              <Button\n                variant=\"link\"\n                className=\"p-0 h-auto font-normal\"\n                onClick={() => setMode(\"signup\")}\n              >\n                Sign up\n              </Button>\n            </>\n          ) : (\n            <>\n              Already have an account?{\" \"}\n              <Button\n                variant=\"link\"\n                className=\"p-0 h-auto font-normal\"\n                onClick={() => setMode(\"signin\")}\n              >\n                Sign in\n              </Button>\n            </>\n          )}\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAOA;AACA;AACA;;;AAZA;;;;;;AAoBO,SAAS,WAAW,EACzB,IAAI,EACJ,YAAY,EACZ,cAAc,QAAQ,EACN;;IAChB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAuB;IAEtD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,QAAQ;QACV;+BAAG;QAAC;KAAY;IAEhB,MAAM,gBAAgB;QACpB,aAAa;IACf;IAEA,qBACE,6LAAC,qIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6LAAC,qIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,6LAAC,qIAAA,CAAA,eAAY;;sCACX,6LAAC,qIAAA,CAAA,cAAW;sCACT,SAAS,WAAW,iBAAiB;;;;;;sCAExC,6LAAC,qIAAA,CAAA,oBAAiB;sCACf,SAAS,WACN,wCACA;;;;;;;;;;;;8BAIR,6LAAC;oBAAI,WAAU;8BACZ,SAAS,yBACR,6LAAC,2IAAA,CAAA,aAAU;wBAAC,WAAW;;;;;6CAEvB,6LAAC,2IAAA,CAAA,aAAU;wBAAC,WAAW;;;;;;;;;;;8BAI3B,6LAAC;oBAAI,WAAU;8BACZ,SAAS,yBACR;;4BAAE;4BAC4B;0CAC5B,6LAAC,qIAAA,CAAA,SAAM;gCACL,SAAQ;gCACR,WAAU;gCACV,SAAS,IAAM,QAAQ;0CACxB;;;;;;;qDAKH;;4BAAE;4BACyB;0CACzB,6LAAC,qIAAA,CAAA,SAAM;gCACL,SAAQ;gCACR,WAAU;gCACV,SAAS,IAAM,QAAQ;0CACxB;;;;;;;;;;;;;;;;;;;;;;;;AASf;GAjEgB;KAAA","debugId":null}},
    {"offset": {"line": 3642, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/actions/index.ts"],"sourcesContent":["\"use server\";\n\nimport bcrypt from \"bcrypt\";\nimport { prisma } from \"@/lib/prisma\";\nimport { createSession, deleteSession, getSession } from \"@/lib/auth\";\nimport { revalidatePath } from \"next/cache\";\nimport { redirect } from \"next/navigation\";\n\nexport interface AuthResult {\n  success: boolean;\n  error?: string;\n}\n\nexport async function signUp(\n  email: string,\n  password: string\n): Promise<AuthResult> {\n  try {\n    // Validate input\n    if (!email || !password) {\n      return { success: false, error: \"Email and password are required\" };\n    }\n\n    if (password.length < 8) {\n      return {\n        success: false,\n        error: \"Password must be at least 8 characters\",\n      };\n    }\n\n    // Check if user already exists\n    const existingUser = await prisma.user.findUnique({\n      where: { email },\n    });\n\n    if (existingUser) {\n      return { success: false, error: \"Email already registered\" };\n    }\n\n    // Hash password\n    const hashedPassword = await bcrypt.hash(password, 10);\n\n    // Create user\n    const user = await prisma.user.create({\n      data: {\n        email,\n        password: hashedPassword,\n      },\n    });\n\n    // Create session\n    await createSession(user.id, user.email);\n\n    revalidatePath(\"/\");\n    return { success: true };\n  } catch (error) {\n    console.error(\"Sign up error:\", error);\n    return { success: false, error: \"An error occurred during sign up\" };\n  }\n}\n\nexport async function signIn(\n  email: string,\n  password: string\n): Promise<AuthResult> {\n  try {\n    // Validate input\n    if (!email || !password) {\n      return { success: false, error: \"Email and password are required\" };\n    }\n\n    // Find user\n    const user = await prisma.user.findUnique({\n      where: { email },\n    });\n\n    if (!user) {\n      return { success: false, error: \"Invalid credentials\" };\n    }\n\n    // Verify password\n    const isValidPassword = await bcrypt.compare(password, user.password);\n\n    if (!isValidPassword) {\n      return { success: false, error: \"Invalid credentials\" };\n    }\n\n    // Create session\n    await createSession(user.id, user.email);\n\n    revalidatePath(\"/\");\n    return { success: true };\n  } catch (error) {\n    console.error(\"Sign in error:\", error);\n    return { success: false, error: \"An error occurred during sign in\" };\n  }\n}\n\nexport async function signOut() {\n  await deleteSession();\n  revalidatePath(\"/\");\n  redirect(\"/\");\n}\n\nexport async function getUser() {\n  const session = await getSession();\n\n  if (!session) {\n    return null;\n  }\n\n  try {\n    const user = await prisma.user.findUnique({\n      where: { id: session.userId },\n      select: {\n        id: true,\n        email: true,\n        createdAt: true,\n      },\n    });\n\n    return user;\n  } catch (error) {\n    console.error(\"Get user error:\", error);\n    return null;\n  }\n}\n"],"names":[],"mappings":";;;;;;IAkGsB,UAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 3658, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Popover({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />\n}\n\nfunction PopoverTrigger({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />\n}\n\nfunction PopoverContent({\n  className,\n  align = \"center\",\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\n  return (\n    <PopoverPrimitive.Portal>\n      <PopoverPrimitive.Content\n        data-slot=\"popover-content\"\n        align={align}\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden\",\n          className\n        )}\n        {...props}\n      />\n    </PopoverPrimitive.Portal>\n  )\n}\n\nfunction PopoverAnchor({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />\n}\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n"],"names":[],"mappings":";;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,QAAQ,EACf,GAAG,OACgD;IACnD,qBAAO,6LAAC,sKAAA,CAAA,OAAqB;QAAC,aAAU;QAAW,GAAG,KAAK;;;;;;AAC7D;KAJS;AAMT,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,6LAAC,sKAAA,CAAA,UAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;MAJS;AAMT,SAAS,eAAe,EACtB,SAAS,EACT,QAAQ,QAAQ,EAChB,aAAa,CAAC,EACd,GAAG,OACmD;IACtD,qBACE,6LAAC,sKAAA,CAAA,SAAuB;kBACtB,cAAA,6LAAC,sKAAA,CAAA,UAAwB;YACvB,aAAU;YACV,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,keACA;YAED,GAAG,KAAK;;;;;;;;;;;AAIjB;MApBS;AAsBT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,6LAAC,sKAAA,CAAA,SAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS","debugId":null}},
    {"offset": {"line": 3739, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/ui/command.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { SearchIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\n\nfunction Command({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive>) {\n  return (\n    <CommandPrimitive\n      data-slot=\"command\"\n      className={cn(\n        \"bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandDialog({\n  title = \"Command Palette\",\n  description = \"Search for a command to run...\",\n  children,\n  className,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof Dialog> & {\n  title?: string\n  description?: string\n  className?: string\n  showCloseButton?: boolean\n}) {\n  return (\n    <Dialog {...props}>\n      <DialogHeader className=\"sr-only\">\n        <DialogTitle>{title}</DialogTitle>\n        <DialogDescription>{description}</DialogDescription>\n      </DialogHeader>\n      <DialogContent\n        className={cn(\"overflow-hidden p-0\", className)}\n        showCloseButton={showCloseButton}\n      >\n        <Command className=\"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nfunction CommandInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Input>) {\n  return (\n    <div\n      data-slot=\"command-input-wrapper\"\n      className=\"flex h-9 items-center gap-2 border-b px-3\"\n    >\n      <SearchIcon className=\"size-4 shrink-0 opacity-50\" />\n      <CommandPrimitive.Input\n        data-slot=\"command-input\"\n        className={cn(\n          \"placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction CommandList({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.List>) {\n  return (\n    <CommandPrimitive.List\n      data-slot=\"command-list\"\n      className={cn(\n        \"max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandEmpty({\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Empty>) {\n  return (\n    <CommandPrimitive.Empty\n      data-slot=\"command-empty\"\n      className=\"py-6 text-center text-sm\"\n      {...props}\n    />\n  )\n}\n\nfunction CommandGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Group>) {\n  return (\n    <CommandPrimitive.Group\n      data-slot=\"command-group\"\n      className={cn(\n        \"text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Separator>) {\n  return (\n    <CommandPrimitive.Separator\n      data-slot=\"command-separator\"\n      className={cn(\"bg-border -mx-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CommandItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Item>) {\n  return (\n    <CommandPrimitive.Item\n      data-slot=\"command-item\"\n      className={cn(\n        \"data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"command-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAGA;AACA;AAEA;AACA;AAPA;;;;;;AAeA,SAAS,QAAQ,EACf,SAAS,EACT,GAAG,OAC2C;IAC9C,qBACE,6LAAC,yIAAA,CAAA,UAAgB;QACf,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,6FACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,SAAS,cAAc,EACrB,QAAQ,iBAAiB,EACzB,cAAc,gCAAgC,EAC9C,QAAQ,EACR,SAAS,EACT,kBAAkB,IAAI,EACtB,GAAG,OAMJ;IACC,qBACE,6LAAC,qIAAA,CAAA,SAAM;QAAE,GAAG,KAAK;;0BACf,6LAAC,qIAAA,CAAA,eAAY;gBAAC,WAAU;;kCACtB,6LAAC,qIAAA,CAAA,cAAW;kCAAE;;;;;;kCACd,6LAAC,qIAAA,CAAA,oBAAiB;kCAAE;;;;;;;;;;;;0BAEtB,6LAAC,qIAAA,CAAA,gBAAa;gBACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;gBACrC,iBAAiB;0BAEjB,cAAA,6LAAC;oBAAQ,WAAU;8BAChB;;;;;;;;;;;;;;;;;AAKX;MA7BS;AA+BT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,6LAAC;QACC,aAAU;QACV,WAAU;;0BAEV,6LAAC,6MAAA,CAAA,aAAU;gBAAC,WAAU;;;;;;0BACtB,6LAAC,yIAAA,CAAA,UAAgB,CAAC,KAAK;gBACrB,aAAU;gBACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4JACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIjB;MApBS;AAsBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,yIAAA,CAAA,UAAgB,CAAC,IAAI;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBACE,6LAAC,yIAAA,CAAA,UAAgB,CAAC,KAAK;QACrB,aAAU;QACV,WAAU;QACT,GAAG,KAAK;;;;;;AAGf;MAVS;AAYT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,6LAAC,yIAAA,CAAA,UAAgB,CAAC,KAAK;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0NACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,6LAAC,yIAAA,CAAA,UAAgB,CAAC,SAAS;QACzB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,wBAAwB;QACrC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,yIAAA,CAAA,UAAgB,CAAC,IAAI;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,uYACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OAC0B;IAC7B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,yDACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS","debugId":null}},
    {"offset": {"line": 3945, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/components/HeaderActions.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport { Plus, LogOut, FolderOpen, ChevronDown } from \"lucide-react\";\nimport { AuthDialog } from \"@/components/auth/AuthDialog\";\nimport { signOut } from \"@/actions\";\nimport { getProjects } from \"@/actions/get-projects\";\nimport { createProject } from \"@/actions/create-project\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from \"@/components/ui/command\";\n\ninterface HeaderActionsProps {\n  user?: {\n    id: string;\n    email: string;\n  } | null;\n  projectId?: string;\n}\n\ninterface Project {\n  id: string;\n  name: string;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport function HeaderActions({ user, projectId }: HeaderActionsProps) {\n  const router = useRouter();\n  const [authDialogOpen, setAuthDialogOpen] = useState(false);\n  const [authMode, setAuthMode] = useState<\"signin\" | \"signup\">(\"signin\");\n  const [projectsOpen, setProjectsOpen] = useState(false);\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [initialLoading, setInitialLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  // Load projects initially\n  useEffect(() => {\n    if (user && projectId) {\n      getProjects()\n        .then(setProjects)\n        .catch(console.error)\n        .finally(() => setInitialLoading(false));\n    }\n  }, [user, projectId]);\n\n  // Refresh projects when popover opens\n  useEffect(() => {\n    if (user && projectsOpen) {\n      getProjects().then(setProjects).catch(console.error);\n    }\n  }, [projectsOpen, user]);\n\n  const filteredProjects = projects.filter((project) =>\n    project.name.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const currentProject = projects.find((p) => p.id === projectId);\n\n  const handleSignInClick = () => {\n    setAuthMode(\"signin\");\n    setAuthDialogOpen(true);\n  };\n\n  const handleSignUpClick = () => {\n    setAuthMode(\"signup\");\n    setAuthDialogOpen(true);\n  };\n\n  const handleSignOut = async () => {\n    await signOut();\n  };\n\n  const handleNewDesign = async () => {\n    const project = await createProject({\n      name: `Design #${~~(Math.random() * 100000)}`,\n      messages: [],\n      data: {},\n    });\n    router.push(`/${project.id}`);\n  };\n\n  if (!user) {\n    return (\n      <>\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\" className=\"h-8\" onClick={handleSignInClick}>\n            Sign In\n          </Button>\n          <Button className=\"h-8\" onClick={handleSignUpClick}>\n            Sign Up\n          </Button>\n        </div>\n        <AuthDialog\n          open={authDialogOpen}\n          onOpenChange={setAuthDialogOpen}\n          defaultMode={authMode}\n        />\n      </>\n    );\n  }\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      {!initialLoading && (\n        <Popover open={projectsOpen} onOpenChange={setProjectsOpen}>\n          <PopoverTrigger asChild>\n            <Button variant=\"outline\" className=\"h-8 gap-2\" role=\"combobox\">\n              <FolderOpen className=\"h-4 w-4\" />\n              {currentProject ? currentProject.name : \"Select Project\"}\n              <ChevronDown className=\"h-3 w-3 opacity-50\" />\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent className=\"w-[300px] p-0\" align=\"end\">\n            <Command>\n              <CommandInput\n                placeholder=\"Search projects...\"\n                value={searchQuery}\n                onValueChange={setSearchQuery}\n              />\n              <CommandList>\n                <CommandEmpty>No projects found.</CommandEmpty>\n                <CommandGroup>\n                  {filteredProjects.map((project) => (\n                    <CommandItem\n                      key={project.id}\n                      value={project.name}\n                      onSelect={() => {\n                        router.push(`/${project.id}`);\n                        setProjectsOpen(false);\n                        setSearchQuery(\"\");\n                      }}\n                    >\n                      <div className=\"flex flex-col\">\n                        <span className=\"font-medium\">{project.name}</span>\n                      </div>\n                    </CommandItem>\n                  ))}\n                </CommandGroup>\n              </CommandList>\n            </Command>\n          </PopoverContent>\n        </Popover>\n      )}\n\n      <Button className=\"flex items-center gap-2 h-8\" onClick={handleNewDesign}>\n        <Plus className=\"h-4 w-4\" />\n        New Design\n      </Button>\n\n      <Button\n        variant=\"ghost\"\n        size=\"icon\"\n        className=\"h-8 w-8\"\n        onClick={handleSignOut}\n        title=\"Sign out\"\n      >\n        <LogOut className=\"h-4 w-4\" />\n      </Button>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4251, "column": 0}, "map": {"version":3,"sources":["file:///Users/hyejinlee/francis/uigen/src/app/main-content.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport {\n  ResizableHandle,\n  ResizablePanel,\n  ResizablePanelGroup,\n} from \"@/components/ui/resizable\";\nimport { FileSystemProvider } from \"@/lib/contexts/file-system-context\";\nimport { ChatProvider } from \"@/lib/contexts/chat-context\";\nimport { ChatInterface } from \"@/components/chat/ChatInterface\";\nimport { FileTree } from \"@/components/editor/FileTree\";\nimport { CodeEditor } from \"@/components/editor/CodeEditor\";\nimport { PreviewFrame } from \"@/components/preview/PreviewFrame\";\nimport { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { HeaderActions } from \"@/components/HeaderActions\";\n\ninterface MainContentProps {\n  user?: {\n    id: string;\n    email: string;\n  } | null;\n  project?: {\n    id: string;\n    name: string;\n    messages: any[];\n    data: any;\n    createdAt: Date;\n    updatedAt: Date;\n  };\n}\n\nexport function MainContent({ user, project }: MainContentProps) {\n  const [activeView, setActiveView] = useState<\"preview\" | \"code\">(\"preview\");\n\n  return (\n    <FileSystemProvider initialData={project?.data}>\n      <ChatProvider projectId={project?.id} initialMessages={project?.messages}>\n        <div className=\"h-screen w-screen overflow-hidden bg-neutral-50\">\n          <ResizablePanelGroup direction=\"horizontal\" className=\"h-full\">\n            {/* Left Panel - Chat */}\n            <ResizablePanel defaultSize={35} minSize={25} maxSize={50}>\n              <div className=\"h-full flex flex-col bg-white\">\n                {/* Chat Header */}\n                <div className=\"h-14 flex items-center px-6 border-b border-neutral-200/60\">\n                  <h1 className=\"text-lg font-semibold text-neutral-900 tracking-tight\">React Component Generator</h1>\n                </div>\n\n                {/* Chat Content */}\n                <div className=\"flex-1 overflow-hidden\">\n                  <ChatInterface />\n                </div>\n              </div>\n            </ResizablePanel>\n\n            <ResizableHandle className=\"w-[1px] bg-neutral-200 hover:bg-neutral-300 transition-colors\" />\n\n            {/* Right Panel - Preview/Code */}\n            <ResizablePanel defaultSize={65}>\n              <div className=\"h-full flex flex-col bg-white\">\n                {/* Top Bar */}\n                <div className=\"h-14 border-b border-neutral-200/60 px-6 flex items-center justify-between bg-neutral-50/50\">\n                  <Tabs\n                    value={activeView}\n                    onValueChange={(v) =>\n                      setActiveView(v as \"preview\" | \"code\")\n                    }\n                  >\n                    <TabsList className=\"bg-white/60 border border-neutral-200/60 p-0.5 h-9 shadow-sm\">\n                      <TabsTrigger value=\"preview\" className=\"data-[state=active]:bg-white data-[state=active]:text-neutral-900 data-[state=active]:shadow-sm text-neutral-600 px-4 py-1.5 text-sm font-medium transition-all\">Preview</TabsTrigger>\n                      <TabsTrigger value=\"code\" className=\"data-[state=active]:bg-white data-[state=active]:text-neutral-900 data-[state=active]:shadow-sm text-neutral-600 px-4 py-1.5 text-sm font-medium transition-all\">Code</TabsTrigger>\n                    </TabsList>\n                  </Tabs>\n                  <HeaderActions user={user} projectId={project?.id} />\n                </div>\n\n                {/* Content Area */}\n                <div className=\"flex-1 overflow-hidden bg-neutral-50\">\n                  {activeView === \"preview\" ? (\n                    <div className=\"h-full bg-white\">\n                      <PreviewFrame />\n                    </div>\n                  ) : (\n                    <ResizablePanelGroup\n                      direction=\"horizontal\"\n                      className=\"h-full\"\n                    >\n                      {/* File Tree */}\n                      <ResizablePanel\n                        defaultSize={30}\n                        minSize={20}\n                        maxSize={50}\n                      >\n                        <div className=\"h-full bg-neutral-50 border-r border-neutral-200\">\n                          <FileTree />\n                        </div>\n                      </ResizablePanel>\n\n                      <ResizableHandle className=\"w-[1px] bg-neutral-200 hover:bg-neutral-300 transition-colors\" />\n\n                      {/* Code Editor */}\n                      <ResizablePanel defaultSize={70}>\n                        <div className=\"h-full bg-white\">\n                          <CodeEditor />\n                        </div>\n                      </ResizablePanel>\n                    </ResizablePanelGroup>\n                  )}\n                </div>\n              </div>\n            </ResizablePanel>\n          </ResizablePanelGroup>\n        </div>\n      </ChatProvider>\n    </FileSystemProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAfA;;;;;;;;;;;AAgCO,SAAS,YAAY,EAAE,IAAI,EAAE,OAAO,EAAoB;;IAC7D,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAsB;IAEjE,qBACE,6LAAC,uJAAA,CAAA,qBAAkB;QAAC,aAAa,SAAS;kBACxC,cAAA,6LAAC,6IAAA,CAAA,eAAY;YAAC,WAAW,SAAS;YAAI,iBAAiB,SAAS;sBAC9D,cAAA,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,wIAAA,CAAA,sBAAmB;oBAAC,WAAU;oBAAa,WAAU;;sCAEpD,6LAAC,wIAAA,CAAA,iBAAc;4BAAC,aAAa;4BAAI,SAAS;4BAAI,SAAS;sCACrD,cAAA,6LAAC;gCAAI,WAAU;;kDAEb,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC;4CAAG,WAAU;sDAAwD;;;;;;;;;;;kDAIxE,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC,8IAAA,CAAA,gBAAa;;;;;;;;;;;;;;;;;;;;;sCAKpB,6LAAC,wIAAA,CAAA,kBAAe;4BAAC,WAAU;;;;;;sCAG3B,6LAAC,wIAAA,CAAA,iBAAc;4BAAC,aAAa;sCAC3B,cAAA,6LAAC;gCAAI,WAAU;;kDAEb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,mIAAA,CAAA,OAAI;gDACH,OAAO;gDACP,eAAe,CAAC,IACd,cAAc;0DAGhB,cAAA,6LAAC,mIAAA,CAAA,WAAQ;oDAAC,WAAU;;sEAClB,6LAAC,mIAAA,CAAA,cAAW;4DAAC,OAAM;4DAAU,WAAU;sEAAkK;;;;;;sEACzM,6LAAC,mIAAA,CAAA,cAAW;4DAAC,OAAM;4DAAO,WAAU;sEAAkK;;;;;;;;;;;;;;;;;0DAG1M,6LAAC,sIAAA,CAAA,gBAAa;gDAAC,MAAM;gDAAM,WAAW,SAAS;;;;;;;;;;;;kDAIjD,6LAAC;wCAAI,WAAU;kDACZ,eAAe,0BACd,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC,gJAAA,CAAA,eAAY;;;;;;;;;iEAGf,6LAAC,wIAAA,CAAA,sBAAmB;4CAClB,WAAU;4CACV,WAAU;;8DAGV,6LAAC,wIAAA,CAAA,iBAAc;oDACb,aAAa;oDACb,SAAS;oDACT,SAAS;8DAET,cAAA,6LAAC;wDAAI,WAAU;kEACb,cAAA,6LAAC,2IAAA,CAAA,WAAQ;;;;;;;;;;;;;;;8DAIb,6LAAC,wIAAA,CAAA,kBAAe;oDAAC,WAAU;;;;;;8DAG3B,6LAAC,wIAAA,CAAA,iBAAc;oDAAC,aAAa;8DAC3B,cAAA,6LAAC;wDAAI,WAAU;kEACb,cAAA,6LAAC,6IAAA,CAAA,aAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAarC;GApFgB;KAAA","debugId":null}}]
}